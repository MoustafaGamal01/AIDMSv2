2024-06-24 03:12:44.364 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:12:44.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 03:12:44.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:12:44.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 03:12:44.779 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:12:44.780 +03:00 [INF] Hosting environment: Development
2024-06-24 03:12:44.780 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:12:44.803 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 44.0421ms
2024-06-24 03:12:46.079 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 404 null null 1323.4893ms
2024-06-24 03:12:46.388 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 1632.3877ms
2024-06-24 03:12:46.465 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 03:12:46.466 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 1.2187ms
2024-06-24 03:12:46.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:12:46.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:12:47.002 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.1263ms
2024-06-24 03:12:47.060 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.1416ms
2024-06-24 03:13:07.278 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 8
2024-06-24 03:13:07.291 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 03:13:07.293 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:13:07.336 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:13:07.376 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:13:17.299 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 03:13:17.333 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 03:13:17.338 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 9958.2601ms
2024-06-24 03:13:17.338 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:13:17.350 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 400 null text/plain; charset=utf-8 10071.9964ms
2024-06-24 03:21:53.578 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:21:53.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:21:53.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 03:21:53.990 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 499 13746 application/javascript; charset=utf-8 45.0935ms
2024-06-24 03:21:54.032 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:21:54.033 +03:00 [INF] Hosting environment: Development
2024-06-24 03:21:54.033 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:21:54.295 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 351.2447ms
2024-06-24 03:21:54.339 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 03:21:54.344 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 4.5491ms
2024-06-24 03:21:54.359 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 03:21:54.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.4008ms
2024-06-24 03:21:54.536 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:21:54.732 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.3687ms
2024-06-24 03:22:23.381 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 10
2024-06-24 03:22:23.406 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 03:22:23.408 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:22:23.498 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:22:23.547 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:22:27.818 +03:00 [INF] Executed DbCommand (601ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 03:22:27.864 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 03:22:27.874 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4321.781ms
2024-06-24 03:22:27.875 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:22:27.888 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 400 null text/plain; charset=utf-8 4507.4344ms
2024-06-24 03:24:47.035 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:24:47.332 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:24:47.334 +03:00 [INF] Hosting environment: Development
2024-06-24 03:24:47.335 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:24:47.382 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:24:47.607 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:24:47.613 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 232.9468ms
2024-06-24 03:24:47.613 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 5.0094ms
2024-06-24 03:24:48.730 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:24:49.043 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:24:49.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 323.6006ms
2024-06-24 03:24:49.116 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.4181ms
2024-06-24 03:24:58.409 +03:00 [INF] Application is shutting down...
2024-06-24 03:25:16.437 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:25:16.699 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:25:16.700 +03:00 [INF] Hosting environment: Development
2024-06-24 03:25:16.700 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:25:16.812 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:25:17.109 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 298.2174ms
2024-06-24 03:25:17.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:25:18.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 581.328ms
2024-06-24 03:27:23.050 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:27:23.626 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:27:23.626 +03:00 [INF] Hosting environment: Development
2024-06-24 03:27:23.626 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:27:23.740 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:27:23.959 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 221.2314ms
2024-06-24 03:27:24.194 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:27:24.429 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.0209ms
2024-06-24 03:27:47.492 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 03:27:47.527 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 03:27:47.528 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:27:48.152 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:27:48.241 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:27:54.366 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 03:27:58.479 +03:00 [INF] Executed DbCommand (232ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 03:27:58.880 +03:00 [INF] Executed DbCommand (165ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 03:27:58.976 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4601.107ms.
2024-06-24 03:27:58.992 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 03:27:59.014 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 10754.8697ms
2024-06-24 03:27:59.024 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:27:59.046 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 11553.7596ms
2024-06-24 03:28:49.891 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 240
2024-06-24 03:28:49.902 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:28:49.914 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:28:49.922 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:28:49.985 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 03:28:50.114 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 03:28:50.213 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:28:50.874 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 03:28:51.271 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:28:51.502 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 03:28:51.637 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:28:51.881 +03:00 [INF] Executed DbCommand (107ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 03:28:51.990 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:28:52.112 +03:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:28:52.393 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 03:28:52.688 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 03:28:53.371 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 03:28:53.483 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 03:28:53.598 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 03:28:53.629 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 03:28:53.630 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3644.1851ms.
2024-06-24 03:28:53.630 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:28:53.644 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3722.3569ms
2024-06-24 03:28:53.644 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:28:53.645 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3753.8399ms
2024-06-24 03:29:39.180 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryU438MlCgIv6ApBSx 71076
2024-06-24 03:29:39.180 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:29:39.181 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:29:39.188 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:29:39.288 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:29:39.440 +03:00 [INF] Executed DbCommand (108ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:29:43.077 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3788.3634ms.
2024-06-24 03:29:43.079 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:29:43.081 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3893.2126ms
2024-06-24 03:29:43.081 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:29:43.083 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3903.6863ms
2024-06-24 03:29:50.322 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryQHpgeG5NrBqeAQIM 71076
2024-06-24 03:29:50.322 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:29:50.323 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:29:50.323 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:29:50.338 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:29:50.427 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:29:52.625 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2287.6899ms.
2024-06-24 03:29:52.626 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:29:52.627 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2304.295ms
2024-06-24 03:29:52.628 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:29:52.628 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2306.5956ms
2024-06-24 03:30:03.933 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarynAGBBNm0JEoOku29 132929
2024-06-24 03:30:03.934 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:30:03.934 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:30:03.934 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:30:03.959 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:30:04.037 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:30:05.555 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1596.5086ms.
2024-06-24 03:30:05.556 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:30:05.556 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 1622.1249ms
2024-06-24 03:30:05.556 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:30:05.557 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 1623.7149ms
2024-06-24 03:30:09.010 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryVwy0efLpr9HcMvce 132930
2024-06-24 03:30:09.010 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:30:09.010 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:30:09.010 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:30:09.027 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:30:09.107 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:30:10.829 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1801.5521ms.
2024-06-24 03:30:10.829 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:30:10.830 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 1820.0382ms
2024-06-24 03:30:10.831 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:30:10.831 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 1821.7769ms
2024-06-24 03:31:00.710 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryNAFI6uOa3vPCdrRF 2048623
2024-06-24 03:31:00.710 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:31:00.710 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:00.711 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:31:00.789 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:31:00.931 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:31:09.620 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8830.5682ms.
2024-06-24 03:31:09.620 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:31:09.621 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 8910.1761ms
2024-06-24 03:31:09.621 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:09.622 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 8912.2073ms
2024-06-24 03:31:17.890 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary2pew8ssCiJQOPMq4 50976
2024-06-24 03:31:17.891 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:31:17.891 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:17.891 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:31:17.892 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:31:18.094 +03:00 [INF] Executed DbCommand (200ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:31:20.763 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2870.326ms.
2024-06-24 03:31:20.763 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:31:20.764 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2872.6349ms
2024-06-24 03:31:20.764 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:20.764 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2874.0583ms
2024-06-24 03:31:41.098 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary8kAzbqBh33giyIIu 232842
2024-06-24 03:31:41.098 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:31:41.098 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:41.098 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:31:41.135 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:31:41.215 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:31:43.951 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2815.6899ms.
2024-06-24 03:31:43.951 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:31:43.952 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2853.977ms
2024-06-24 03:31:43.952 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:43.953 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2855.5288ms
2024-06-24 03:31:47.358 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryAYVYC9BJc4T0r0CL 232842
2024-06-24 03:31:47.358 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:31:47.358 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:47.358 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:31:47.376 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:31:47.460 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:31:50.202 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2825.9693ms.
2024-06-24 03:31:50.203 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:31:50.203 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2844.9207ms
2024-06-24 03:31:50.203 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:31:50.204 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2846.5247ms
2024-06-24 03:31:57.937 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 03:31:57.937 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:31:57.937 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 03:31:57.941 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:31:57.941 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 03:31:58.028 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:33:11.351 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 73407.773ms.
2024-06-24 03:33:11.354 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 03:33:11.359 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 73418.5731ms
2024-06-24 03:33:11.360 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 03:33:11.360 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 400 null text/plain; charset=utf-8 73423.0388ms
2024-06-24 03:40:04.757 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:40:04.984 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:40:04.996 +03:00 [INF] Hosting environment: Development
2024-06-24 03:40:04.996 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:40:05.076 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:40:05.309 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 235.02ms
2024-06-24 03:40:05.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:40:05.915 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 301.0267ms
2024-06-24 03:40:26.766 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 03:40:26.792 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 03:40:26.793 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:40:26.938 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:40:26.974 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:40:28.132 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 03:40:30.794 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 03:40:31.004 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 03:40:31.066 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2927.5725ms.
2024-06-24 03:40:31.077 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 03:40:31.085 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4105.6951ms
2024-06-24 03:40:31.087 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:40:31.107 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 4340.8198ms
2024-06-24 03:41:38.846 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 230
2024-06-24 03:41:38.855 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:41:38.870 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:41:38.875 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:41:38.917 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 03:41:39.048 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 03:41:39.139 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:41:39.498 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 03:41:39.792 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:41:39.972 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 03:41:40.063 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:41:40.204 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 03:41:40.287 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:41:40.381 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:41:40.587 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 03:41:40.815 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 03:41:40.925 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 03:41:41.010 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 03:41:41.095 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 03:41:41.119 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 03:41:41.120 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2202.3398ms.
2024-06-24 03:41:41.121 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:41:41.130 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2254.1629ms
2024-06-24 03:41:41.130 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:41:41.131 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2284.8329ms
2024-06-24 03:42:19.968 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryFj0VzavDeexrkleJ 71076
2024-06-24 03:42:19.969 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:42:19.970 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:42:19.978 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:42:20.072 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:42:20.190 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:43:45.550 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 85442.9625ms.
2024-06-24 03:43:45.556 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:43:45.566 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 85587.0048ms
2024-06-24 03:43:45.566 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:43:45.569 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 85600.7879ms
2024-06-24 03:45:10.072 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarydyBUURxDr7Ai0fWu 71076
2024-06-24 03:45:11.246 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:45:11.248 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:45:11.263 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:45:53.464 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:45:53.737 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:45:53.738 +03:00 [INF] Hosting environment: Development
2024-06-24 03:45:53.738 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:45:53.835 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:45:54.085 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 252.5797ms
2024-06-24 03:45:54.295 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:45:54.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 386.743ms
2024-06-24 03:46:14.611 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 03:46:14.639 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 03:46:14.641 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:46:14.843 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:46:14.882 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:46:17.724 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 03:46:21.974 +03:00 [INF] Executed DbCommand (355ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 03:46:22.358 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 03:46:22.516 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4784.2738ms.
2024-06-24 03:46:22.528 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 03:46:22.539 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 7649.4901ms
2024-06-24 03:46:22.540 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:46:22.564 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 7953.1651ms
2024-06-24 03:46:48.998 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 235
2024-06-24 03:46:49.051 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:46:49.076 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:46:49.089 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:46:49.172 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 03:46:49.310 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 03:46:49.413 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:46:50.140 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 03:46:50.568 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:46:50.882 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 03:46:51.011 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:46:51.294 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 03:46:51.389 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:46:51.509 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:46:51.811 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 03:46:52.181 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 03:46:52.361 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 03:46:52.468 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 03:46:52.569 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 03:46:52.631 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 03:46:52.633 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3461.0365ms.
2024-06-24 03:46:52.635 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:46:52.662 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3572.3217ms
2024-06-24 03:46:52.663 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:46:52.665 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3667.2858ms
2024-06-24 03:47:22.111 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryA1VAsC6J7JGYaApe 71076
2024-06-24 03:47:22.111 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:47:22.112 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:47:22.120 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:47:22.215 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:47:22.345 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:48:25.107 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62890.8191ms.
2024-06-24 03:48:25.108 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:48:25.112 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 62991.7981ms
2024-06-24 03:48:25.113 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:48:25.119 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 63008.3659ms
2024-06-24 03:49:23.585 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryoKLKxTWD1nFChSap 71076
2024-06-24 03:49:23.585 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:49:23.586 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:49:23.586 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:49:23.603 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:49:23.687 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:50:47.837 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 03:50:48.460 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 03:50:48.461 +03:00 [INF] Hosting environment: Development
2024-06-24 03:50:48.461 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 03:50:48.713 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 03:50:49.289 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 580.1513ms
2024-06-24 03:50:49.596 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 03:50:50.308 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 712.0985ms
2024-06-24 03:51:12.532 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 03:51:12.606 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 03:51:12.610 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:51:13.051 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:51:13.129 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:51:16.588 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 03:51:23.019 +03:00 [INF] Executed DbCommand (241ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 03:51:23.334 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 03:51:23.467 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6867.5182ms.
2024-06-24 03:51:23.486 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 03:51:23.506 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 10367.0341ms
2024-06-24 03:51:23.508 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 03:51:23.539 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 11006.6155ms
2024-06-24 03:51:52.648 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 225
2024-06-24 03:51:52.672 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:51:52.699 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:51:52.717 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:51:52.826 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 03:51:52.970 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 03:51:53.057 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:51:53.737 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 03:51:54.307 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:51:54.534 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 03:51:54.748 +03:00 [INF] Executed DbCommand (165ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:51:54.951 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 03:51:55.048 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 03:51:55.166 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 03:51:55.496 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 03:51:55.889 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 03:51:56.095 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 03:51:56.196 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 03:51:56.295 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 03:51:56.404 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 03:51:56.405 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3578.3404ms.
2024-06-24 03:51:56.405 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:51:56.418 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3699.8961ms
2024-06-24 03:51:56.418 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 03:51:56.419 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3771.034ms
2024-06-24 03:52:10.928 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryAho2O60Scx0hJvCm 71076
2024-06-24 03:52:10.929 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:52:10.930 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:52:10.941 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:52:11.020 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:52:11.163 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:52:46.250 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35229.0088ms.
2024-06-24 03:52:46.252 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:52:46.258 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 35316.7267ms
2024-06-24 03:52:46.258 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:52:46.267 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 35338.7551ms
2024-06-24 03:53:27.543 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary0u85kpvehyYTbHQA 71076
2024-06-24 03:53:27.545 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:53:27.552 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:53:27.557 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:53:27.645 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:53:27.729 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:54:33.079 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65432.9439ms.
2024-06-24 03:54:33.080 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:54:33.082 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 65524.5468ms
2024-06-24 03:54:33.083 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:54:33.085 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 65559.2758ms
2024-06-24 03:54:49.991 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryfw64WRM2p5R1FJmA 132929
2024-06-24 03:54:49.992 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:54:49.992 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:54:49.992 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:54:50.010 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:54:50.214 +03:00 [INF] Executed DbCommand (200ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:55:23.354 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33249.9049ms.
2024-06-24 03:55:23.355 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:55:23.355 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 33362.7823ms
2024-06-24 03:55:23.356 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:55:23.356 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 33365.4024ms
2024-06-24 03:55:47.037 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarytOlKlBxzewqDI2KL 132930
2024-06-24 03:55:47.037 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:55:47.038 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:55:47.038 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:55:47.126 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:55:47.214 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:56:26.215 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39088.3153ms.
2024-06-24 03:56:26.216 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:56:26.216 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 39178.0375ms
2024-06-24 03:56:26.216 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:56:26.217 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 39180.672ms
2024-06-24 03:56:48.149 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryXnRKEpyk83fwhY6s 2048623
2024-06-24 03:56:48.150 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:56:48.151 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:56:48.151 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:56:48.277 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:56:48.531 +03:00 [INF] Executed DbCommand (251ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:57:40.760 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52481.4018ms.
2024-06-24 03:57:40.761 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:57:40.780 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 52628.6428ms
2024-06-24 03:57:40.780 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:57:40.786 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 52637.1814ms
2024-06-24 03:57:56.331 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryIu7jq8JUAsSc9o1Z 50976
2024-06-24 03:57:56.332 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:57:56.333 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:57:56.333 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:57:56.338 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 03:57:56.448 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:58:35.100 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38760.8721ms.
2024-06-24 03:58:35.100 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 03:58:35.101 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 38767.1013ms
2024-06-24 03:58:35.101 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 03:58:35.101 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 38769.8201ms
2024-06-24 03:58:42.229 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 03:58:42.230 +03:00 [INF] CORS policy execution successful.
2024-06-24 03:58:42.230 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 03:58:42.241 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 03:58:42.243 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 03:58:42.330 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 03:59:01.250 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 03:59:01.365 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b71b35d3-e906-481f-9409-6e291b8f00be
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b71b35d3-e906-481f-9409-6e291b8f00be
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 03:59:54.295 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 72053.4751ms
2024-06-24 03:59:54.302 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 03:59:54.532 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b71b35d3-e906-481f-9409-6e291b8f00be
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 244
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 03:59:54.559 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 72329.8435ms
2024-06-24 04:08:33.836 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:08:34.429 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:08:34.431 +03:00 [INF] Hosting environment: Development
2024-06-24 04:08:34.431 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:08:34.487 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:08:34.780 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 295.144ms
2024-06-24 04:08:35.976 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:08:36.279 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 302.3814ms
2024-06-24 04:08:56.648 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 04:08:56.674 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:08:56.677 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:08:57.658 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:08:57.928 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:09:01.939 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 04:09:09.212 +03:00 [INF] Executed DbCommand (284ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 04:09:09.788 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 04:09:10.071 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8111.8595ms.
2024-06-24 04:09:10.116 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:09:10.139 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 12193.3141ms
2024-06-24 04:09:10.144 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:09:10.245 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 13596.5074ms
2024-06-24 04:09:59.737 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 223
2024-06-24 04:09:59.751 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:09:59.756 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:09:59.773 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:09:59.907 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:10:00.177 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:10:00.293 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:10:01.150 +03:00 [INF] Executed DbCommand (122ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 04:10:01.843 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:10:02.159 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 04:10:02.304 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:10:02.617 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 04:10:02.731 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:10:02.908 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:10:03.296 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 04:10:03.748 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 04:10:03.965 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 04:10:04.075 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 04:10:04.177 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 04:10:04.233 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 04:10:04.236 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4327.9864ms.
2024-06-24 04:10:04.238 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:10:04.273 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 4499.0955ms
2024-06-24 04:10:04.273 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:10:04.276 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 4537.7854ms
2024-06-24 04:10:20.259 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryFmyQwlDicivFg7iA 71076
2024-06-24 04:10:20.261 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:10:20.264 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:10:20.278 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:10:20.399 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:10:20.858 +03:00 [INF] Executed DbCommand (235ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:10:25.315 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4916.0206ms.
2024-06-24 04:10:25.316 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:10:25.326 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 5047.4058ms
2024-06-24 04:10:25.327 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:10:25.334 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 5074.6686ms
2024-06-24 04:10:27.896 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryi3VSoKOpYzdjgrvS 71076
2024-06-24 04:10:27.896 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:10:27.897 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:10:27.897 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:10:27.902 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:10:28.526 +03:00 [INF] Executed DbCommand (621ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:10:31.858 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3955.7414ms.
2024-06-24 04:10:31.858 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:10:31.859 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3961.9778ms
2024-06-24 04:10:31.859 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:10:31.860 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3963.5957ms
2024-06-24 04:10:35.116 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarySDdospBQn1TR1SIm 71076
2024-06-24 04:10:35.117 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:10:35.117 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:10:35.117 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:10:35.122 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:10:35.218 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:10:37.377 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2254.4246ms.
2024-06-24 04:10:37.378 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:10:37.379 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2260.9339ms
2024-06-24 04:10:37.379 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:10:37.382 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2265.5402ms
2024-06-24 04:10:49.760 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 04:10:49.760 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:10:49.760 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:10:49.769 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:10:49.770 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 04:10:49.866 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:10:49.886 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 115.6306ms.
2024-06-24 04:10:49.886 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 04:10:49.888 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 118.534ms
2024-06-24 04:10:49.888 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:10:49.888 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 400 null text/plain; charset=utf-8 128.0822ms
2024-06-24 04:11:10.379 +03:00 [INF] Application is shutting down...
2024-06-24 04:11:30.526 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:11:31.161 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:11:31.163 +03:00 [INF] Hosting environment: Development
2024-06-24 04:11:31.163 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:11:31.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:11:31.518 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 217.9532ms
2024-06-24 04:11:31.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:11:32.059 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 317.1066ms
2024-06-24 04:11:56.650 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 04:11:56.692 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:11:56.695 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:11:56.927 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:11:56.983 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:11:59.751 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 04:12:06.515 +03:00 [INF] Executed DbCommand (368ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 04:12:06.936 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 04:12:07.061 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7301.4542ms.
2024-06-24 04:12:07.076 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:12:07.094 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 10095.6614ms
2024-06-24 04:12:07.096 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:12:07.127 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 10477.1104ms
2024-06-24 04:12:55.626 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 232
2024-06-24 04:12:55.629 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:12:55.638 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:12:55.642 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:12:55.700 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:12:55.867 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:12:55.961 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:12:56.790 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 04:12:57.212 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:12:57.454 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 04:12:57.594 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:12:57.932 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 04:12:58.025 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:12:58.161 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:12:58.477 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 04:12:58.877 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 04:12:59.075 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 04:12:59.183 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 04:12:59.289 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 04:12:59.382 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 04:12:59.383 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3683.1613ms.
2024-06-24 04:12:59.385 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:12:59.396 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3753.7408ms
2024-06-24 04:12:59.397 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:12:59.398 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3771.4254ms
2024-06-24 04:13:18.228 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryXpym5PgB7yuHbjfn 71076
2024-06-24 04:13:18.229 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:13:18.232 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:13:18.251 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:13:18.391 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:13:28.926 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:14:22.960 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64568.7915ms.
2024-06-24 04:14:22.961 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:14:22.966 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 64714.5812ms
2024-06-24 04:14:22.967 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:14:22.972 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 64743.9426ms
2024-06-24 04:14:53.379 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarymwvHJYmMAQ4cAfJZ 71076
2024-06-24 04:14:53.381 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:14:53.381 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:14:53.381 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:14:53.385 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:15:29.369 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:15:31.381 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37995.4469ms.
2024-06-24 04:15:31.381 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:15:31.383 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 38001.3639ms
2024-06-24 04:15:31.383 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:15:31.385 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 38005.7384ms
2024-06-24 04:16:28.269 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:16:28.901 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:16:28.904 +03:00 [INF] Hosting environment: Development
2024-06-24 04:16:28.904 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:16:29.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:16:29.659 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 580.1981ms
2024-06-24 04:16:30.026 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:16:30.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 399.1072ms
2024-06-24 04:16:47.106 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 04:16:47.123 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:16:47.125 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:16:47.286 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:16:47.319 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:16:49.580 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 04:16:56.549 +03:00 [INF] Executed DbCommand (361ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 04:16:57.175 +03:00 [INF] Executed DbCommand (197ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 04:16:57.399 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7803.5929ms.
2024-06-24 04:16:57.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:16:57.467 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 10138.2306ms
2024-06-24 04:16:57.469 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:16:57.499 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 10392.8521ms
2024-06-24 04:17:18.771 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 227
2024-06-24 04:17:18.778 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:17:18.789 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:17:18.796 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:17:18.868 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:17:19.066 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:17:19.193 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 324.6341ms.
2024-06-24 04:17:19.194 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 04:17:19.196 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 400.336ms
2024-06-24 04:17:19.196 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:17:19.197 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 400 null text/plain; charset=utf-8 428.0323ms
2024-06-24 04:17:35.222 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 237
2024-06-24 04:17:35.222 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:17:35.223 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:17:35.223 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:17:35.233 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:17:35.350 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:17:35.446 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:17:36.011 +03:00 [INF] Executed DbCommand (117ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 04:17:36.702 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:17:36.836 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 04:17:36.959 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:17:37.184 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 04:17:37.288 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:17:37.400 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:17:37.670 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 04:17:38.034 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 04:17:38.222 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 04:17:38.321 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 04:17:38.417 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 04:17:38.496 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 04:17:38.497 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3264.1563ms.
2024-06-24 04:17:38.498 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:17:38.521 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3296.9745ms
2024-06-24 04:17:38.521 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:17:38.522 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3299.888ms
2024-06-24 04:18:06.231 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryHye8om5Epcs1DdTF 71076
2024-06-24 04:18:06.232 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:18:06.234 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:18:06.258 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:18:06.381 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:18:14.502 +03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:19:05.221 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 58839.5863ms.
2024-06-24 04:19:05.221 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:19:05.223 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 58965.1698ms
2024-06-24 04:19:05.224 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:19:05.245 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 59014.3312ms
2024-06-24 04:19:48.153 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryehsIvnphO2lC5BTR 71076
2024-06-24 04:19:48.154 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:19:48.154 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:19:48.154 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:19:48.158 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:19:55.669 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:20:36.428 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48269.7448ms.
2024-06-24 04:20:36.430 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:20:36.432 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 48277.3734ms
2024-06-24 04:20:36.432 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:20:36.434 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 48281.1147ms
2024-06-24 04:20:51.455 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryTsGsFAB0uIsCB0J9 132930
2024-06-24 04:20:51.456 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:20:51.456 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:20:51.456 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:20:51.489 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:20:56.763 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:21:42.768 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51278.6061ms.
2024-06-24 04:21:42.768 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:21:42.769 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 51313.1504ms
2024-06-24 04:21:42.770 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:21:42.770 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 51315.283ms
2024-06-24 04:21:50.977 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 04:21:50.978 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:21:50.978 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:21:50.988 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:21:50.992 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 04:21:51.094 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:21:51.625 +03:00 [INF] Executed DbCommand (121ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 04:21:51.964 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:de138bf4-b8c5-4ea6-93ca-114692abcbdb
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:de138bf4-b8c5-4ea6-93ca-114692abcbdb
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 04:21:52.284 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 1294.8913ms
2024-06-24 04:21:52.287 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:21:52.616 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:de138bf4-b8c5-4ea6-93ca-114692abcbdb
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 244
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 04:21:52.713 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 1735.8772ms
2024-06-24 04:24:12.775 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:24:13.163 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:24:13.165 +03:00 [INF] Hosting environment: Development
2024-06-24 04:24:13.165 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:24:13.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:24:13.856 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 446.0275ms
2024-06-24 04:24:15.120 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:24:15.394 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 273.6298ms
2024-06-24 04:24:37.601 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 04:24:37.686 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:24:37.691 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:24:38.010 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:24:38.059 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:24:41.244 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 04:24:44.961 +03:00 [INF] Executed DbCommand (222ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 04:24:45.406 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 04:24:45.584 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4323.6878ms.
2024-06-24 04:24:45.616 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:24:45.643 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 7564.5237ms
2024-06-24 04:24:45.647 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:24:45.700 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 8099.9497ms
2024-06-24 04:25:24.135 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 236
2024-06-24 04:25:24.149 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:25:24.180 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:25:24.197 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:25:24.298 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:25:24.424 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:25:24.497 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 198.4072ms.
2024-06-24 04:25:24.498 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 04:25:24.519 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 321.0285ms
2024-06-24 04:25:24.519 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:25:24.520 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 400 null text/plain; charset=utf-8 384.851ms
2024-06-24 04:25:35.744 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 244
2024-06-24 04:25:35.745 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:25:35.746 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:25:35.746 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:25:35.756 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:25:35.896 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:25:35.991 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:25:36.436 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 04:25:36.968 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:25:37.131 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 04:25:37.245 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:25:37.527 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 04:25:37.620 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:25:37.763 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:25:38.004 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 04:25:38.390 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 04:25:38.567 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 04:25:38.663 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 04:25:38.760 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 04:25:38.828 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 04:25:38.829 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3072.7172ms.
2024-06-24 04:25:38.830 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:25:38.856 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3109.1026ms
2024-06-24 04:25:38.856 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:25:38.857 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3112.6026ms
2024-06-24 04:25:53.204 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryt5AudiiLEvI36xaw 71076
2024-06-24 04:25:53.204 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:25:53.205 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:25:53.214 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:25:53.283 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:26:08.825 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:27:41.390 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 108106.9922ms.
2024-06-24 04:27:41.391 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:27:41.394 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 108179.899ms
2024-06-24 04:27:41.395 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:27:41.398 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 108194.2184ms
2024-06-24 04:28:45.485 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryuUbYZ2HqrU21VTkn 132929
2024-06-24 04:28:45.486 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:28:45.486 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:28:45.486 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:28:45.540 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:28:49.299 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:29:48.379 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62838.4366ms.
2024-06-24 04:29:48.379 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:29:48.379 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 62893.3763ms
2024-06-24 04:29:48.380 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:29:48.380 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 62895.2296ms
2024-06-24 04:30:03.974 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 04:30:03.974 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:30:03.974 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:30:03.978 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:30:03.979 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 04:30:12.043 +03:00 [INF] Executed DbCommand (169ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:35:15.287 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:35:15.533 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:35:15.534 +03:00 [INF] Hosting environment: Development
2024-06-24 04:35:15.534 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:35:15.588 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:35:15.801 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 215.1595ms
2024-06-24 04:35:16.246 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:35:17.149 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 902.2321ms
2024-06-24 04:35:37.993 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 04:35:38.006 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:35:38.007 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:35:38.083 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:35:38.126 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:35:39.430 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 04:35:43.126 +03:00 [INF] Executed DbCommand (185ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 04:35:43.431 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 04:35:43.531 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4093.8553ms.
2024-06-24 04:35:43.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:35:43.556 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 5423.2849ms
2024-06-24 04:35:43.558 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:35:43.610 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5616.9716ms
2024-06-24 04:36:15.442 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 253
2024-06-24 04:36:15.448 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:36:15.451 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:36:15.460 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:36:15.492 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:36:15.644 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:36:15.800 +03:00 [INF] Executed DbCommand (143ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:36:16.175 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 04:36:16.534 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:36:16.747 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 04:36:16.846 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:36:17.027 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 04:36:17.136 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:36:17.279 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:36:17.538 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 04:36:17.774 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 04:36:17.969 +03:00 [INF] Executed DbCommand (156ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 04:36:18.060 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 04:36:18.148 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 04:36:18.169 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 04:36:18.170 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2678.1986ms.
2024-06-24 04:36:18.171 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:36:18.181 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2719.9561ms
2024-06-24 04:36:18.181 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:36:18.182 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2739.4862ms
2024-06-24 04:36:33.037 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryHnSKhWOMbuoM5MpA 71076
2024-06-24 04:36:33.038 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:36:33.040 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:36:33.049 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:36:33.173 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:36:33.799 +03:00 [INF] Executed DbCommand (519ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:36:38.254 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5081.1898ms.
2024-06-24 04:36:38.255 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:36:38.258 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 5208.0066ms
2024-06-24 04:36:38.258 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:36:38.260 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 5223.2602ms
2024-06-24 04:36:46.711 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryBUF8B1BOCNpdwIDU 132929
2024-06-24 04:36:46.711 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:36:46.712 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:36:46.712 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:36:46.732 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:36:46.955 +03:00 [INF] Executed DbCommand (221ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:36:49.730 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2997.6656ms.
2024-06-24 04:36:49.730 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:36:49.731 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3018.8967ms
2024-06-24 04:36:49.731 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:36:49.732 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3020.7294ms
2024-06-24 04:36:57.595 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 04:36:57.595 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:36:57.596 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:36:57.602 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:36:57.603 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 04:36:57.708 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:36:58.107 +03:00 [INF] Executed DbCommand (143ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 04:36:58.233 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ab502371-c27d-45c5-b6a2-aa2b87c9b107
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ab502371-c27d-45c5-b6a2-aa2b87c9b107
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 04:36:58.292 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 688.8421ms
2024-06-24 04:36:58.293 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:36:58.295 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ab502371-c27d-45c5-b6a2-aa2b87c9b107
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.ApplicationRepository.AddApplicationAsync(Application application) in C:\final\AIDMS\AIDMS\Repositories\ApplicationRepository.cs:line 137
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 247
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 04:36:58.320 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 724.8273ms
2024-06-24 04:41:26.765 +03:00 [INF] Application is shutting down...
2024-06-24 04:41:44.719 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:41:44.875 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:41:44.876 +03:00 [INF] Hosting environment: Development
2024-06-24 04:41:44.876 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:41:44.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:41:45.088 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 188.3876ms
2024-06-24 04:41:45.344 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:41:45.587 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 243.3567ms
2024-06-24 04:42:26.128 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 04:42:26.152 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:42:26.153 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:42:26.221 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:42:26.265 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:42:27.590 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 04:42:31.110 +03:00 [INF] Executed DbCommand (159ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 04:42:31.364 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 04:42:31.501 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3901.768ms.
2024-06-24 04:42:31.522 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:42:31.536 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 5260.9829ms
2024-06-24 04:42:31.541 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:42:31.576 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5447.7861ms
2024-06-24 04:43:04.885 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 264
2024-06-24 04:43:04.889 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:43:04.891 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:43:04.901 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:43:04.945 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:43:05.096 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:43:05.185 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:43:05.561 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 04:43:05.820 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:43:06.030 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 04:43:06.126 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:43:06.284 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 04:43:06.366 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:43:06.468 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:43:07.107 +03:00 [INF] Executed DbCommand (387ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 04:43:07.372 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 04:43:07.491 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 04:43:07.575 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 04:43:07.662 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 04:43:07.683 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 04:43:07.684 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2738.215ms.
2024-06-24 04:43:07.685 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:43:07.696 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2794.3579ms
2024-06-24 04:43:07.696 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:43:07.697 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2812.4456ms
2024-06-24 04:43:26.200 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary0XkjARHBPl0Vfa9P 71076
2024-06-24 04:43:26.201 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:43:26.203 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:43:26.209 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:43:26.280 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:43:26.670 +03:00 [INF] Executed DbCommand (281ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:43:29.634 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3353.0683ms.
2024-06-24 04:43:29.634 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:43:29.636 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3426.6807ms
2024-06-24 04:43:29.636 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:43:29.638 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3438.1436ms
2024-06-24 04:43:39.027 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarywHmxiUVmEmd4pE4P 132929
2024-06-24 04:43:39.028 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:43:39.028 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:43:39.028 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:43:39.049 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:43:39.152 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:43:41.625 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2576.1128ms.
2024-06-24 04:43:41.626 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:43:41.627 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2598.7283ms
2024-06-24 04:43:41.627 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:43:41.628 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2600.3075ms
2024-06-24 04:43:49.350 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 04:43:49.350 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:43:49.350 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:43:49.355 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:43:49.357 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 04:43:49.441 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:43:49.723 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 04:43:49.853 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:660b02d0-363d-4e76-8fbb-4daf67097dc3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:660b02d0-363d-4e76-8fbb-4daf67097dc3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 04:43:49.858 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 502.3652ms
2024-06-24 04:43:49.859 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:43:49.871 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:660b02d0-363d-4e76-8fbb-4daf67097dc3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.ApplicationRepository.AddApplicationAsync(Application application) in C:\final\AIDMS\AIDMS\Repositories\ApplicationRepository.cs:line 137
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 248
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 04:43:49.890 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 540.1303ms
2024-06-24 04:44:17.834 +03:00 [INF] Application is shutting down...
2024-06-24 04:46:38.600 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:46:38.767 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:46:38.767 +03:00 [INF] Hosting environment: Development
2024-06-24 04:46:38.767 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:46:38.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:46:39.000 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 205.4905ms
2024-06-24 04:46:39.286 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:46:39.609 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 322.8253ms
2024-06-24 04:46:52.148 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 04:46:52.158 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:46:52.159 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:46:52.203 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:46:52.234 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:46:53.406 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 04:46:56.808 +03:00 [INF] Executed DbCommand (182ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 04:46:57.060 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 04:46:57.164 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3749.1174ms.
2024-06-24 04:46:57.184 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:46:57.193 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4952.6506ms
2024-06-24 04:46:57.195 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 04:46:57.224 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5075.8709ms
2024-06-24 04:47:53.584 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 259
2024-06-24 04:47:53.588 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:47:53.590 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:47:53.599 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:47:53.635 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 04:47:53.773 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 04:47:53.861 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:47:54.309 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 04:47:54.577 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:47:54.797 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 04:47:54.913 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:47:55.073 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 04:47:55.158 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 04:47:55.263 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 04:47:55.484 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 04:47:55.725 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 04:47:55.845 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 04:47:55.931 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 04:47:56.016 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 04:47:56.039 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 04:47:56.040 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2404.9953ms.
2024-06-24 04:47:56.040 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:47:56.052 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2452.9728ms
2024-06-24 04:47:56.053 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 04:47:56.053 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2468.9585ms
2024-06-24 04:48:15.457 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryNssBy84CAg5yB0xm 71076
2024-06-24 04:48:15.458 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:48:15.459 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:48:15.481 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:48:15.552 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:48:15.728 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:48:18.932 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3379.7178ms.
2024-06-24 04:48:18.932 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:48:18.934 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3453.0445ms
2024-06-24 04:48:18.935 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:48:18.937 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3479.9091ms
2024-06-24 04:48:26.136 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary3p35aMSzp1f1H8Vt 132929
2024-06-24 04:48:26.137 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:48:26.137 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:48:26.137 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:48:26.154 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 04:48:26.272 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:48:28.596 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2441.3987ms.
2024-06-24 04:48:28.596 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 04:48:28.596 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2458.814ms
2024-06-24 04:48:28.596 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 04:48:28.614 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2477.5826ms
2024-06-24 04:48:33.963 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 04:48:33.963 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:48:33.963 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:48:33.968 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 04:48:33.969 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 04:48:34.050 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 04:48:34.053 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.5684ms.
2024-06-24 04:48:34.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 04:48:34.053 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 85.0196ms
2024-06-24 04:48:34.053 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 04:48:34.053 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 200 null text/plain; charset=utf-8 90.5544ms
2024-06-24 04:53:47.399 +03:00 [INF] Application is shutting down...
2024-06-24 04:54:02.091 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:54:02.238 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:54:02.239 +03:00 [INF] Hosting environment: Development
2024-06-24 04:54:02.239 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:54:02.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:54:02.455 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 192.3874ms
2024-06-24 04:54:02.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:54:02.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 251.4008ms
2024-06-24 04:54:18.591 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/test - null 0
2024-06-24 04:54:18.607 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:54:18.608 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:54:18.666 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.Test.SubmitApplication (AIDMS)'
2024-06-24 04:54:18.690 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Test"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] SubmitApplication() on controller AIDMS.Controllers.Test (AIDMS).
2024-06-24 04:54:18.707 +03:00 [INF] Executing action method AIDMS.Controllers.Test.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 04:54:18.717 +03:00 [INF] Executed action method AIDMS.Controllers.Test.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.5186ms.
2024-06-24 04:54:18.734 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2024-06-24 04:54:18.760 +03:00 [INF] Executed action AIDMS.Controllers.Test.SubmitApplication (AIDMS) in 62.9304ms
2024-06-24 04:54:18.761 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.Test.SubmitApplication (AIDMS)'
2024-06-24 04:54:18.761 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/test - 200 null application/json; charset=utf-8 170.7571ms
2024-06-24 04:59:33.017 +03:00 [INF] Application is shutting down...
2024-06-24 04:59:45.103 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 04:59:45.258 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 04:59:45.258 +03:00 [INF] Hosting environment: Development
2024-06-24 04:59:45.259 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 04:59:45.285 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 04:59:45.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 198.8641ms
2024-06-24 04:59:45.680 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 04:59:46.020 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 339.7551ms
2024-06-24 04:59:54.992 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/test - null 0
2024-06-24 04:59:55.000 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 04:59:55.001 +03:00 [INF] CORS policy execution successful.
2024-06-24 04:59:55.053 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.Test.SubmitApplication (AIDMS)'
2024-06-24 04:59:55.068 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.Test.SubmitApplication (AIDMS)'
2024-06-24 04:59:55.069 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A suitable constructor for type 'AIDMS.Controllers.Test' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactoryInternal(Type instanceType, Type[] argumentTypes, ParameterExpression& provider, ParameterExpression& argumentArray, Expression& factoryExpressionBody)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactory(Type instanceType, Type[] argumentTypes)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.CreateActivator(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.CreateControllerFactory(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 04:59:55.103 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/test - 500 null application/json 110.2729ms
2024-06-24 05:02:56.301 +03:00 [INF] Application is shutting down...
2024-06-24 05:03:09.677 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 05:03:09.904 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 05:03:09.905 +03:00 [INF] Hosting environment: Development
2024-06-24 05:03:09.905 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 05:03:09.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 05:03:10.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 227.875ms
2024-06-24 05:03:10.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 05:03:10.741 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 312.9454ms
2024-06-24 05:03:17.507 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/test - null 0
2024-06-24 05:03:17.515 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 05:03:17.516 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:03:17.682 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.Test.SubmitApplication (AIDMS)'
2024-06-24 05:03:17.706 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.Test.SubmitApplication (AIDMS)'
2024-06-24 05:03:17.708 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A suitable constructor for type 'AIDMS.Controllers.Test' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactoryInternal(Type instanceType, Type[] argumentTypes, ParameterExpression& provider, ParameterExpression& argumentArray, Expression& factoryExpressionBody)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactory(Type instanceType, Type[] argumentTypes)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.CreateActivator(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.CreateControllerFactory(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 05:03:17.753 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/test - 500 null application/json 245.4653ms
2024-06-24 05:13:36.968 +03:00 [INF] Application is shutting down...
2024-06-24 05:13:59.049 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 05:13:59.297 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 05:13:59.298 +03:00 [INF] Hosting environment: Development
2024-06-24 05:13:59.298 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 05:13:59.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 05:13:59.569 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 215.7132ms
2024-06-24 05:13:59.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 05:14:00.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 291.0293ms
2024-06-24 05:14:06.903 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/Test/test - null 0
2024-06-24 05:14:06.911 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 05:14:06.912 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:14:07.181 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.TestController.SubmitApplication (AIDMS)'
2024-06-24 05:14:07.217 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Test"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.TestController (AIDMS).
2024-06-24 05:14:07.465 +03:00 [INF] Executing action method AIDMS.Controllers.TestController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 05:14:10.595 +03:00 [INF] Executed DbCommand (156ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 05:14:10.711 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Applications' with unique index 'IX_Applications_PaymentId'. The duplicate key value is (12).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1abd63d1-475b-480f-a03a-7391dfac8022
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Applications' with unique index 'IX_Applications_PaymentId'. The duplicate key value is (12).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1abd63d1-475b-480f-a03a-7391dfac8022
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 05:14:10.745 +03:00 [INF] Executed action AIDMS.Controllers.TestController.SubmitApplication (AIDMS) in 3518.0467ms
2024-06-24 05:14:10.749 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.TestController.SubmitApplication (AIDMS)'
2024-06-24 05:14:10.753 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Applications' with unique index 'IX_Applications_PaymentId'. The duplicate key value is (12).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1abd63d1-475b-480f-a03a-7391dfac8022
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.ApplicationRepository.AddApplicationAsync(Application application) in C:\final\AIDMS\AIDMS\Repositories\ApplicationRepository.cs:line 137
   at AIDMS.Controllers.TestController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\Test.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 05:14:10.793 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/Test/test - 500 null application/json 3890.5758ms
2024-06-24 05:24:36.809 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 05:24:36.811 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:24:36.812 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:24:36.825 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 05:24:36.888 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 05:24:37.872 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 05:24:38.238 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 05:24:38.442 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1546.686ms.
2024-06-24 05:24:38.452 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 05:24:38.465 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 1639.3992ms
2024-06-24 05:24:38.465 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:24:38.466 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 1657.2977ms
2024-06-24 05:26:05.203 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 05:26:05.206 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:26:05.209 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:26:05.209 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 05:26:05.216 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 05:26:05.318 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 05:26:05.514 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 05:26:05.516 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 299.5017ms.
2024-06-24 05:26:05.516 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 05:26:05.517 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 307.9276ms
2024-06-24 05:26:05.517 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:26:05.517 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 314.1049ms
2024-06-24 05:26:29.318 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - null null
2024-06-24 05:26:29.422 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS)'
2024-06-24 05:26:29.430 +03:00 [INF] Route matched with {action = "GetArchivedApplicationsByStudentId", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArchivedApplicationsByStudentIdAsync(Int32) on controller AIDMS.Controllers.StudentController (AIDMS).
2024-06-24 05:26:29.725 +03:00 [INF] Executing action method AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS) - Validation state: "Valid"
2024-06-24 05:26:29.821 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted]
FROM [Applications] AS [a]
WHERE [a].[StudentId] = @__studentId_0 AND [a].[Status] <> N'Pending'
2024-06-24 05:26:29.828 +03:00 [INF] Executed action method AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 102.4852ms.
2024-06-24 05:26:29.828 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AIDMS.DTOs.StudentApplicationDto, AIDMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-24 05:26:29.835 +03:00 [INF] Executed action AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS) in 405.6563ms
2024-06-24 05:26:29.836 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS)'
2024-06-24 05:26:29.836 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - 200 null application/json; charset=utf-8 517.4273ms
2024-06-24 05:28:57.256 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 05:28:57.256 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:28:57.258 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:28:57.258 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 05:28:57.281 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 05:28:57.362 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 05:28:57.560 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 05:28:57.562 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 280.5568ms.
2024-06-24 05:28:57.562 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 05:28:57.563 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 304.8847ms
2024-06-24 05:28:57.563 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:28:57.563 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 307.7957ms
2024-06-24 05:29:37.048 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2225/api/Application/decline/7/10 - null 0
2024-06-24 05:29:37.049 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:29:37.053 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS)'
2024-06-24 05:29:37.058 +03:00 [INF] Route matched with {action = "UpdateDeclineAppStatus", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDeclineAppStatus(Int32, Int32) on controller AIDMS.Controllers.ApplicationController (AIDMS).
2024-06-24 05:29:37.080 +03:00 [INF] Executing action method AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS) - Validation state: "Valid"
2024-06-24 05:29:37.168 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 05:29:37.246 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 05:29:37.358 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Applications] SET [DecisionDate] = @p0, [EmployeeId] = @p1, [Status] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-06-24 05:29:37.510 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 05:29:37.530 +03:00 [INF] Executed action method AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkResult in 450.0954ms.
2024-06-24 05:29:37.539 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-06-24 05:29:37.539 +03:00 [INF] Executed action AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS) in 481.2275ms
2024-06-24 05:29:37.539 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS)'
2024-06-24 05:29:37.541 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:2225/api/Application/decline/7/10 - 200 null null 492.9764ms
2024-06-24 05:31:02.318 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2225/api/Application/decline/7/5 - null 0
2024-06-24 05:31:02.319 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:31:02.322 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS)'
2024-06-24 05:31:02.322 +03:00 [INF] Route matched with {action = "UpdateDeclineAppStatus", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDeclineAppStatus(Int32, Int32) on controller AIDMS.Controllers.ApplicationController (AIDMS).
2024-06-24 05:31:02.340 +03:00 [INF] Executing action method AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS) - Validation state: "Valid"
2024-06-24 05:31:02.421 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 05:31:02.498 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 05:31:02.579 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Applications] SET [DecisionDate] = @p0, [EmployeeId] = @p1, [Status] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-06-24 05:31:02.661 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 05:31:02.662 +03:00 [INF] Executed action method AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkResult in 322.3339ms.
2024-06-24 05:31:02.663 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-06-24 05:31:02.663 +03:00 [INF] Executed action AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS) in 340.5441ms
2024-06-24 05:31:02.663 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.ApplicationController.UpdateDeclineAppStatus (AIDMS)'
2024-06-24 05:31:02.663 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:2225/api/Application/decline/7/5 - 200 null null 345.5691ms
2024-06-24 05:31:28.904 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - null null
2024-06-24 05:31:28.907 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-06-24 05:31:28.910 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-24 05:31:28.911 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - 403 null null 6.3612ms
2024-06-24 05:31:39.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - null null
2024-06-24 05:31:39.810 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-06-24 05:31:39.810 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-24 05:31:39.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - 403 null null 1.0912ms
2024-06-24 05:32:07.991 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 05:32:07.992 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:32:07.992 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:32:07.992 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 05:32:07.993 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 05:32:08.076 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 05:32:08.280 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 05:32:08.281 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 287.4861ms.
2024-06-24 05:32:08.281 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 05:32:08.282 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 289.5955ms
2024-06-24 05:32:08.282 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 05:32:08.282 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 291.0282ms
2024-06-24 05:32:28.058 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - null null
2024-06-24 05:32:28.059 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS)'
2024-06-24 05:32:28.059 +03:00 [INF] Route matched with {action = "GetArchivedApplicationsByStudentId", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArchivedApplicationsByStudentIdAsync(Int32) on controller AIDMS.Controllers.StudentController (AIDMS).
2024-06-24 05:32:28.061 +03:00 [INF] Executing action method AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS) - Validation state: "Valid"
2024-06-24 05:32:28.141 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted]
FROM [Applications] AS [a]
WHERE [a].[StudentId] = @__studentId_0 AND [a].[Status] <> N'Pending'
2024-06-24 05:32:28.142 +03:00 [INF] Executed action method AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 80.9794ms.
2024-06-24 05:32:28.142 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AIDMS.DTOs.StudentApplicationDto, AIDMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-24 05:32:28.143 +03:00 [INF] Executed action AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS) in 83.8411ms
2024-06-24 05:32:28.143 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.StudentController.GetArchivedApplicationsByStudentIdAsync (AIDMS)'
2024-06-24 05:32:28.143 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Student/archived/2 - 200 null application/json; charset=utf-8 85.0565ms
2024-06-24 05:51:54.387 +03:00 [INF] Application is shutting down...
2024-06-24 05:52:27.355 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 05:52:27.647 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 05:52:27.648 +03:00 [INF] Hosting environment: Development
2024-06-24 05:52:27.648 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 05:52:27.703 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 05:52:27.981 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 279.9378ms
2024-06-24 05:52:28.267 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 05:52:28.569 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 301.9573ms
2024-06-24 05:52:35.329 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/Test/test - null 0
2024-06-24 05:52:35.337 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 05:52:35.338 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:52:35.452 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.TestController.SubmitApplication (AIDMS)'
2024-06-24 05:52:35.491 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Test"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.TestController (AIDMS).
2024-06-24 05:52:35.792 +03:00 [INF] Executing action method AIDMS.Controllers.TestController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 05:52:39.014 +03:00 [INF] Executed DbCommand (158ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 05:52:39.134 +03:00 [INF] Executed action method AIDMS.Controllers.TestController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3333.843ms.
2024-06-24 05:52:39.151 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-06-24 05:52:39.180 +03:00 [INF] Executed action AIDMS.Controllers.TestController.SubmitApplication (AIDMS) in 3680.9995ms
2024-06-24 05:52:39.181 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.TestController.SubmitApplication (AIDMS)'
2024-06-24 05:52:39.226 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/Test/test - 200 null application/json; charset=utf-8 3896.8133ms
2024-06-24 05:53:06.228 +03:00 [INF] Application is shutting down...
2024-06-24 05:53:21.282 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 05:53:21.562 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 05:53:21.562 +03:00 [INF] Hosting environment: Development
2024-06-24 05:53:21.562 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 05:53:21.627 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 05:53:21.849 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 223.3544ms
2024-06-24 05:53:22.064 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 05:53:22.401 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 336.8489ms
2024-06-24 05:54:14.212 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 05:54:14.221 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 05:54:14.222 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:54:14.316 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 05:54:14.352 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 05:54:15.619 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 05:54:18.761 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 05:54:19.022 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 05:54:19.119 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3492.8007ms.
2024-06-24 05:54:19.136 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 05:54:19.149 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4785.1554ms
2024-06-24 05:54:19.151 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 05:54:19.182 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 4970.0688ms
2024-06-24 05:55:03.567 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 232
2024-06-24 05:55:03.571 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:55:03.574 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 05:55:03.587 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 05:55:03.619 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 05:55:03.781 +03:00 [INF] Executed DbCommand (108ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 05:55:04.297 +03:00 [INF] Executed DbCommand (506ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 05:55:04.363 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 744.2282ms.
2024-06-24 05:55:04.364 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 05:55:04.365 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 778.1796ms
2024-06-24 05:55:04.365 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 05:55:04.366 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 400 null text/plain; charset=utf-8 798.7803ms
2024-06-24 05:55:12.476 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 234
2024-06-24 05:55:12.477 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:55:12.480 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 05:55:12.480 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 05:55:12.506 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 05:55:12.731 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 05:55:12.818 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 05:55:13.226 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 05:55:13.497 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 05:55:13.642 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 05:55:13.738 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 05:55:13.904 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 05:55:13.994 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 05:55:14.088 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 05:55:14.302 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 05:55:14.529 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 05:55:14.647 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 05:55:14.737 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 05:55:14.822 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 05:55:14.840 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 05:55:14.841 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2334.9921ms.
2024-06-24 05:55:14.841 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 05:55:14.850 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2370.1977ms
2024-06-24 05:55:14.850 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 05:55:14.851 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2374.2245ms
2024-06-24 05:55:35.996 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryNLaPckLFBLhT0VYQ 71076
2024-06-24 05:55:35.997 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:55:35.997 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 05:55:36.006 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 05:55:36.068 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 05:55:36.312 +03:00 [INF] Executed DbCommand (232ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 05:55:39.489 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3419.9887ms.
2024-06-24 05:55:39.489 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 05:55:39.492 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3485.9102ms
2024-06-24 05:55:39.492 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 05:55:39.494 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3497.17ms
2024-06-24 05:55:49.067 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryEAmmRCBXqqloUnWN 132929
2024-06-24 05:55:49.067 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:55:49.067 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 05:55:49.068 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 05:55:49.089 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 05:55:49.176 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 05:55:51.880 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2790.4908ms.
2024-06-24 05:55:51.880 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 05:55:51.881 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2813.2254ms
2024-06-24 05:55:51.881 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 05:55:51.882 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2814.9917ms
2024-06-24 05:55:57.373 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 05:55:57.374 +03:00 [INF] CORS policy execution successful.
2024-06-24 05:55:57.374 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 05:55:57.379 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 05:55:57.380 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 05:55:57.464 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 05:55:57.474 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 93.5683ms.
2024-06-24 05:55:57.474 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 05:55:57.475 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 95.8234ms
2024-06-24 05:55:57.475 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 05:55:57.476 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 200 null text/plain; charset=utf-8 102.1982ms
2024-06-24 06:03:11.819 +03:00 [INF] Application is shutting down...
2024-06-24 06:03:33.849 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 06:03:34.043 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 06:03:34.044 +03:00 [INF] Hosting environment: Development
2024-06-24 06:03:34.044 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 06:03:34.121 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 06:03:34.331 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 211.853ms
2024-06-24 06:03:34.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 06:03:34.806 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 293.9013ms
2024-06-24 06:04:04.051 +03:00 [INF] Application is shutting down...
2024-06-24 06:04:18.659 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 06:04:18.793 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 06:04:18.794 +03:00 [INF] Hosting environment: Development
2024-06-24 06:04:18.794 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 06:04:18.815 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 06:04:18.988 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 174.6465ms
2024-06-24 06:04:19.272 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 06:04:19.522 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 249.6486ms
2024-06-24 06:04:57.116 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 06:04:57.125 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 06:04:57.127 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:04:57.469 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:04:57.506 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:04:58.611 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 06:05:02.091 +03:00 [INF] Executed DbCommand (183ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 06:05:02.323 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 06:05:02.414 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3795.8992ms.
2024-06-24 06:05:02.428 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:05:02.436 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4923.8881ms
2024-06-24 06:05:02.437 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:05:02.459 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5342.9395ms
2024-06-24 06:05:42.112 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 233
2024-06-24 06:05:42.116 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:05:42.118 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:05:42.143 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:05:42.176 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 06:05:42.326 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 06:05:42.412 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 235.6429ms.
2024-06-24 06:05:42.413 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 06:05:42.415 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 271.648ms
2024-06-24 06:05:42.415 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:05:42.416 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 400 null text/plain; charset=utf-8 303.6977ms
2024-06-24 06:05:50.640 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 234
2024-06-24 06:05:50.641 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:05:50.644 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:05:50.644 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:05:50.690 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 06:05:52.071 +03:00 [INF] Executed DbCommand (1,287ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 06:05:52.227 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:05:52.688 +03:00 [INF] Executed DbCommand (196ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 06:05:53.503 +03:00 [INF] Executed DbCommand (607ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:05:54.146 +03:00 [INF] Executed DbCommand (588ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 06:05:54.793 +03:00 [INF] Executed DbCommand (630ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:05:55.330 +03:00 [INF] Executed DbCommand (457ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 06:05:55.427 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:05:55.551 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:05:56.006 +03:00 [INF] Executed DbCommand (122ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 06:05:56.583 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 06:05:56.817 +03:00 [INF] Executed DbCommand (193ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 06:05:56.910 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 06:05:57.008 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 06:05:57.026 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 06:05:57.026 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6335.7712ms.
2024-06-24 06:05:57.027 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:05:57.036 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 6391.5635ms
2024-06-24 06:05:57.036 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:05:57.036 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 6395.6523ms
2024-06-24 06:06:11.999 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryAmL6eheHREHjKjCH 71076
2024-06-24 06:06:11.999 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:06:11.999 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:06:12.011 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:06:12.152 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:06:13.242 +03:00 [INF] Executed DbCommand (1,079ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:06:32.211 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20058.9677ms.
2024-06-24 06:06:32.211 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:06:32.214 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 20202.4268ms
2024-06-24 06:06:32.214 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:06:32.218 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 20218.9847ms
2024-06-24 06:06:41.857 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryyyDJAqRdwX8AiRV2 132929
2024-06-24 06:06:41.858 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:06:41.858 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:06:41.858 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:06:41.866 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:06:47.244 +03:00 [INF] Executed DbCommand (5,377ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:06:54.566 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12699.8526ms.
2024-06-24 06:06:54.566 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:06:54.567 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 12708.0636ms
2024-06-24 06:06:54.567 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:06:54.570 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 12712.1746ms
2024-06-24 06:07:01.394 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 06:07:01.394 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:07:01.394 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:07:01.406 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:07:01.407 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 06:07:01.782 +03:00 [INF] Executed DbCommand (369ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:07:02.189 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 06:07:02.406 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0c88aefa-48e3-4068-84d6-b34d1d268df3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0c88aefa-48e3-4068-84d6-b34d1d268df3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 06:07:02.412 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 1005.5488ms
2024-06-24 06:07:02.412 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:07:02.413 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0c88aefa-48e3-4068-84d6-b34d1d268df3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.ApplicationRepository.AddApplicationAsync(Application application) in C:\final\AIDMS\AIDMS\Repositories\ApplicationRepository.cs:line 137
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 247
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 06:07:02.430 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 1036.8995ms
2024-06-24 06:08:41.999 +03:00 [INF] Application is shutting down...
2024-06-24 06:08:56.819 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 06:08:56.964 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 06:08:56.965 +03:00 [INF] Hosting environment: Development
2024-06-24 06:08:56.965 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 06:08:56.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 06:08:57.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 195.5006ms
2024-06-24 06:08:57.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 06:08:57.725 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 308.5884ms
2024-06-24 06:09:12.671 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 06:09:12.680 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 06:09:12.682 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:09:12.729 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:09:12.759 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:09:13.866 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 06:09:17.090 +03:00 [INF] Executed DbCommand (169ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 06:09:17.333 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 06:09:17.426 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3553.1723ms.
2024-06-24 06:09:17.439 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:09:17.448 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4681.463ms
2024-06-24 06:09:17.449 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:09:17.480 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 4808.6418ms
2024-06-24 06:10:02.709 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 235
2024-06-24 06:10:02.713 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:10:02.715 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:10:02.721 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:10:02.761 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 06:10:02.899 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 06:10:02.996 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:10:03.342 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 06:10:03.629 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:10:03.846 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 06:10:03.948 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:10:04.110 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 06:10:04.191 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:10:04.290 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:10:04.518 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 06:10:04.743 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 06:10:04.856 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 06:10:04.942 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 06:10:05.026 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 06:10:05.044 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 06:10:05.046 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2284.4999ms.
2024-06-24 06:10:05.047 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:10:05.059 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2337.6684ms
2024-06-24 06:10:05.059 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:10:05.060 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2350.7022ms
2024-06-24 06:10:19.819 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarymbJ3AgV3inAhJckV 71076
2024-06-24 06:10:19.819 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:10:19.821 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:10:19.830 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:10:19.895 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:10:20.163 +03:00 [INF] Executed DbCommand (171ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:10:22.911 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3016.1765ms.
2024-06-24 06:10:22.912 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:10:22.914 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3083.8714ms
2024-06-24 06:10:22.914 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:10:22.917 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3098.2768ms
2024-06-24 06:10:33.137 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryfnVUWjGpStVuAhHv 132929
2024-06-24 06:10:33.138 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:10:33.138 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:10:33.138 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:10:33.144 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:10:33.373 +03:00 [INF] Executed DbCommand (227ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:10:36.652 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3507.2795ms.
2024-06-24 06:10:36.652 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:10:36.653 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3514.9298ms
2024-06-24 06:10:36.653 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:10:36.654 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3516.9328ms
2024-06-24 06:10:43.882 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 06:10:43.882 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:10:43.882 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:10:43.887 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:10:43.888 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 06:10:43.969 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:10:44.130 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 06:10:44.174 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8da3403-36f6-4e88-871d-0822ad514742
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8da3403-36f6-4e88-871d-0822ad514742
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 06:10:44.179 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 291.6628ms
2024-06-24 06:10:44.180 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:10:44.181 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8da3403-36f6-4e88-871d-0822ad514742
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.ApplicationRepository.AddApplicationAsync(Application application) in C:\final\AIDMS\AIDMS\Repositories\ApplicationRepository.cs:line 137
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 246
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 06:10:44.199 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 316.9741ms
2024-06-24 06:10:48.932 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 06:10:48.932 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:10:48.933 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:10:48.933 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:10:48.933 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 06:10:49.013 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:10:49.096 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 06:10:49.098 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8da3403-36f6-4e88-871d-0822ad514742
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8da3403-36f6-4e88-871d-0822ad514742
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 06:10:49.102 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 168.8493ms
2024-06-24 06:10:49.102 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:10:49.102 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Description', table 'db5908.dbo.Applications'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d8da3403-36f6-4e88-871d-0822ad514742
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.ApplicationRepository.AddApplicationAsync(Application application) in C:\final\AIDMS\AIDMS\Repositories\ApplicationRepository.cs:line 137
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 246
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 06:10:49.106 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 173.7642ms
2024-06-24 06:12:20.746 +03:00 [INF] Application is shutting down...
2024-06-24 06:12:34.156 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 06:12:34.377 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 06:12:34.378 +03:00 [INF] Hosting environment: Development
2024-06-24 06:12:34.378 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 06:12:34.435 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 06:12:34.676 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 243.168ms
2024-06-24 06:12:35.337 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 06:12:35.636 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.5293ms
2024-06-24 06:13:06.019 +03:00 [INF] Application is shutting down...
2024-06-24 06:13:16.960 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 06:13:17.146 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 06:13:17.146 +03:00 [INF] Hosting environment: Development
2024-06-24 06:13:17.146 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 06:13:17.168 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 06:13:17.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 194.3207ms
2024-06-24 06:13:17.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 06:13:17.818 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 267.6412ms
2024-06-24 06:13:35.971 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 06:13:35.978 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 06:13:35.979 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:13:36.074 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:13:36.118 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:13:37.288 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 06:13:40.969 +03:00 [INF] Executed DbCommand (155ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 06:13:41.216 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 06:13:41.319 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4023.9545ms.
2024-06-24 06:13:41.334 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:13:41.345 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 5218.7577ms
2024-06-24 06:13:41.346 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:13:41.375 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5403.5688ms
2024-06-24 06:14:21.315 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 237
2024-06-24 06:14:21.319 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:14:21.321 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:14:21.328 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:14:21.369 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 06:14:21.511 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 06:14:21.601 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:14:21.670 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 300.0955ms.
2024-06-24 06:14:21.671 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 06:14:21.673 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 344.8675ms
2024-06-24 06:14:21.673 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:14:21.674 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 400 null text/plain; charset=utf-8 359.3438ms
2024-06-24 06:14:27.936 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 238
2024-06-24 06:14:27.937 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:14:27.939 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:14:27.939 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:14:27.975 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 06:14:28.144 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 06:14:28.224 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:14:28.580 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 06:14:28.849 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:14:28.999 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 06:14:29.100 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:14:29.256 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 06:14:29.336 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:14:29.439 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:14:29.666 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 06:14:29.899 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 06:14:30.016 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 06:14:30.100 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 06:14:30.184 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 06:14:30.203 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 06:14:30.204 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2228.7679ms.
2024-06-24 06:14:30.204 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:14:30.214 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2274.7506ms
2024-06-24 06:14:30.214 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:14:30.214 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2278.4845ms
2024-06-24 06:14:42.673 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryBxvpg1xP8sC9BUy1 71076
2024-06-24 06:14:42.674 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:14:42.674 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:14:42.700 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:14:42.744 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:14:43.017 +03:00 [INF] Executed DbCommand (263ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:14:47.062 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4317.4292ms.
2024-06-24 06:14:47.062 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:14:47.065 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 4364.9935ms
2024-06-24 06:14:47.065 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:14:47.067 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 4393.5651ms
2024-06-24 06:14:58.275 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarymtAo5xezV8KM6XEr 132929
2024-06-24 06:14:58.276 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:14:58.276 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:14:58.276 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:14:58.302 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:14:58.593 +03:00 [INF] Executed DbCommand (289ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:15:01.315 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3012.5063ms.
2024-06-24 06:15:01.315 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:15:01.316 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3039.7858ms
2024-06-24 06:15:01.316 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:15:01.317 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3041.7003ms
2024-06-24 06:15:05.499 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 06:15:05.499 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:15:05.499 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:15:05.506 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:15:05.506 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 06:15:05.592 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:15:05.759 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 06:15:05.889 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (Size = 255), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Documents] ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-24 06:15:05.976 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (Size = 255), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Documents] ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-24 06:15:05.977 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 470.2678ms.
2024-06-24 06:15:05.977 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:15:05.978 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 471.8175ms
2024-06-24 06:15:05.978 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:15:05.978 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 200 null text/plain; charset=utf-8 479.493ms
2024-06-24 06:21:11.350 +03:00 [INF] Application is shutting down...
2024-06-24 06:21:27.462 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 06:21:27.884 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 06:21:27.884 +03:00 [INF] Hosting environment: Development
2024-06-24 06:21:27.884 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 06:21:27.925 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 06:21:28.129 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 205.1323ms
2024-06-24 06:21:28.423 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 06:21:28.686 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.2389ms
2024-06-24 06:21:45.825 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 06:21:45.833 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 06:21:45.834 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:21:45.900 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:21:45.940 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:21:47.270 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 06:21:50.744 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 06:21:50.976 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 06:21:51.074 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3796.0765ms.
2024-06-24 06:21:51.086 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:21:51.097 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 5149.8923ms
2024-06-24 06:21:51.099 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:21:51.123 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5297.8957ms
2024-06-24 06:23:05.070 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 227
2024-06-24 06:23:05.073 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:23:05.075 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:23:05.086 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:23:05.132 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-24 06:23:05.169 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 82.9716ms
2024-06-24 06:23:05.170 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:23:05.170 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 400 null application/problem+json; charset=utf-8 100.4485ms
2024-06-24 06:23:18.841 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 232
2024-06-24 06:23:18.842 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:23:18.846 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:23:18.846 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:23:18.874 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 06:23:19.010 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 06:23:19.101 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:23:19.504 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 06:23:19.812 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:23:20.018 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 06:23:20.143 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:23:20.312 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 06:23:20.395 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:23:20.493 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:23:20.720 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 06:23:20.977 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 06:23:21.095 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 06:23:21.180 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 06:23:21.266 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 06:23:21.293 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 06:23:21.293 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2419.3196ms.
2024-06-24 06:23:21.294 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:23:21.297 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2450.8805ms
2024-06-24 06:23:21.298 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:23:21.298 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2456.7538ms
2024-06-24 06:23:34.893 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryHYQXU94bzhAz6d1t 71076
2024-06-24 06:23:34.894 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:23:34.894 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:23:34.921 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:23:34.991 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:23:35.181 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:23:38.644 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3652.9672ms.
2024-06-24 06:23:38.645 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:23:38.647 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3725.4109ms
2024-06-24 06:23:38.647 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:23:38.649 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3755.9776ms
2024-06-24 06:23:47.835 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary3DgTBPOr7CBA95qt 132929
2024-06-24 06:23:47.836 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:23:47.836 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:23:47.836 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:23:47.848 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:23:47.969 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:23:50.034 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2185.1017ms.
2024-06-24 06:23:50.034 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:23:50.034 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2198.0444ms
2024-06-24 06:23:50.035 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:23:50.035 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2199.9599ms
2024-06-24 06:23:55.817 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 06:23:55.817 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:23:55.817 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:23:55.825 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:23:55.826 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 06:23:55.908 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:23:56.239 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 06:23:56.353 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (Size = 50), @p12='?' (Size = 255), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Int32), @p17='?' (Size = 50), @p18='?' (Size = 255), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Documents] USING (
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, 1)) AS i ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt])
VALUES (i.[ApplicationId], i.[FileName], i.[FilePath], i.[FileType], i.[StudentId], i.[UploadedAt])
OUTPUT INSERTED.[Id], i._Position;
2024-06-24 06:23:56.437 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 610.6384ms.
2024-06-24 06:23:56.437 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:23:56.438 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 612.9217ms
2024-06-24 06:23:56.438 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:23:56.439 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 200 null text/plain; charset=utf-8 621.627ms
2024-06-24 06:26:29.616 +03:00 [INF] Application is shutting down...
2024-06-24 06:26:42.183 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 06:26:42.333 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 06:26:42.334 +03:00 [INF] Hosting environment: Development
2024-06-24 06:26:42.334 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 06:26:42.359 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 06:26:42.541 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 183.3377ms
2024-06-24 06:26:42.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 06:26:42.988 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 251.5496ms
2024-06-24 06:26:55.274 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 06:26:55.282 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 06:26:55.283 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:26:55.351 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:26:55.390 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:26:56.638 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 06:26:59.795 +03:00 [INF] Executed DbCommand (151ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 06:27:00.071 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 06:27:00.167 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3521.1635ms.
2024-06-24 06:27:00.181 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:27:00.192 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4792.8454ms
2024-06-24 06:27:00.194 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 06:27:00.225 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 4951.092ms
2024-06-24 06:28:07.140 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 228
2024-06-24 06:28:07.152 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:28:07.155 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:28:07.165 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:28:07.201 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 06:28:07.334 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 06:28:07.425 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:28:07.908 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 06:28:08.231 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:28:08.446 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 06:28:08.549 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:28:08.706 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 06:28:08.788 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 06:28:08.887 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 06:28:09.113 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 06:28:09.357 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 06:28:09.493 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 06:28:09.579 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 06:28:09.663 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 06:28:09.684 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 06:28:09.685 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2484.2749ms.
2024-06-24 06:28:09.686 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:28:09.695 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2529.5811ms
2024-06-24 06:28:09.695 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 06:28:09.696 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2555.8109ms
2024-06-24 06:28:23.232 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryI6zj2kCLZqmM1wTC 71076
2024-06-24 06:28:23.232 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:28:23.235 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:28:23.243 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:28:23.311 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:28:23.551 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:28:27.359 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4047.7479ms.
2024-06-24 06:28:27.359 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:28:27.362 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 4118.2096ms
2024-06-24 06:28:27.362 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:28:27.365 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 4133.6179ms
2024-06-24 06:28:35.773 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary47s94GFOHSUhzPnf 132929
2024-06-24 06:28:35.774 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:28:35.774 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:28:35.774 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:28:35.809 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 06:28:36.060 +03:00 [INF] Executed DbCommand (249ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:28:39.483 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3674.5474ms.
2024-06-24 06:28:39.484 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 06:28:39.485 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3710.7143ms
2024-06-24 06:28:39.486 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 06:28:39.487 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3713.451ms
2024-06-24 06:28:45.909 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 06:28:45.909 +03:00 [INF] CORS policy execution successful.
2024-06-24 06:28:45.910 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:28:45.919 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 06:28:45.920 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 06:28:46.006 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 06:28:46.320 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 06:28:46.425 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (Size = 50), @p12='?' (Size = 255), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Int32), @p17='?' (Size = 50), @p18='?' (Size = 255), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Documents] USING (
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, 1)) AS i ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt])
VALUES (i.[ApplicationId], i.[FileName], i.[FilePath], i.[FileType], i.[StudentId], i.[UploadedAt])
OUTPUT INSERTED.[Id], i._Position;
2024-06-24 06:28:46.509 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 589.098ms.
2024-06-24 06:28:46.510 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 06:28:46.510 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 591.3294ms
2024-06-24 06:28:46.510 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 06:28:46.511 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 200 null text/plain; charset=utf-8 601.756ms
2024-06-24 06:56:47.959 +03:00 [INF] Application is shutting down...
2024-06-24 16:18:56.115 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 16:18:56.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:18:56.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:18:56.475 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:18:56.498 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 499 13746 application/javascript; charset=utf-8 25.3737ms
2024-06-24 16:18:56.524 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 16:18:56.525 +03:00 [INF] Hosting environment: Development
2024-06-24 16:18:56.525 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 16:18:57.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 771.046ms
2024-06-24 16:18:57.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 884.3427ms
2024-06-24 16:18:57.406 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:18:57.412 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.487ms
2024-06-24 16:18:57.427 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:18:57.439 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.0123ms
2024-06-24 16:18:57.581 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:18:57.819 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 238.0861ms
2024-06-24 16:19:42.036 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 16:19:42.045 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 16:19:42.047 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:19:42.083 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 16:19:42.124 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:19:45.144 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 16:19:45.339 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 16:19:45.409 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 16:19:45.416 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 3287.4203ms
2024-06-24 16:19:45.417 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 16:19:45.428 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 3391.7513ms
2024-06-24 16:21:43.062 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 228
2024-06-24 16:21:43.075 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:21:43.078 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 16:21:43.085 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:21:43.249 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:21:43.353 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 16:21:43.609 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 16:21:43.868 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 16:21:44.043 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 16:21:44.185 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 16:21:44.365 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 16:21:44.497 +03:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 16:21:44.655 +03:00 [INF] Executed DbCommand (143ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 16:21:45.029 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 16:21:45.248 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 16:21:45.354 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:21:45.438 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 16:21:45.522 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 16:21:45.544 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 16:21:45.544 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:21:45.548 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2462.9323ms
2024-06-24 16:21:45.548 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 16:21:45.549 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2487.0038ms
2024-06-24 16:22:16.371 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryI5qYG4jNpsdtAG51 71076
2024-06-24 16:22:16.372 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:22:16.374 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:22:16.384 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:22:16.771 +03:00 [INF] Executed DbCommand (256ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:22:19.828 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:22:19.829 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3444.9209ms
2024-06-24 16:22:19.829 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:22:19.830 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3459.5345ms
2024-06-24 16:22:28.107 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryX94eMLodJ65lQrvI 132929
2024-06-24 16:22:28.107 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:22:28.107 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:22:28.108 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:22:28.516 +03:00 [INF] Executed DbCommand (381ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:22:31.388 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:22:31.389 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3281.0465ms
2024-06-24 16:22:31.389 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:22:31.390 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3283.0394ms
2024-06-24 16:22:37.665 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 16:22:37.665 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:22:37.665 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 16:22:37.671 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:22:37.753 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:22:37.867 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:22:37.998 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 16:22:38.031 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:728fc1f8-53fc-4b28-906c-a4e8f91eba37
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:728fc1f8-53fc-4b28-906c-a4e8f91eba37
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 16:22:38.062 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 391.1791ms
2024-06-24 16:22:38.338 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 16:22:38.490 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:728fc1f8-53fc-4b28-906c-a4e8f91eba37
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.NotificationRepository.AddNotificationAsync(Notification notification) in C:\final\AIDMS\AIDMS\Repositories\NotificationRepository.cs:line 28
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 248
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 16:22:38.508 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 843.0039ms
2024-06-24 16:26:49.877 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 16:26:50.107 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:26:50.113 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 16:26:50.113 +03:00 [INF] Hosting environment: Development
2024-06-24 16:26:50.113 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 16:26:50.309 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 203.3006ms
2024-06-24 16:26:50.408 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:26:50.410 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:26:50.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 4.2215ms
2024-06-24 16:26:50.454 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.5405ms
2024-06-24 16:26:50.626 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:26:50.773 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.5241ms
2024-06-24 16:27:22.556 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 84
2024-06-24 16:27:22.568 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 16:27:22.569 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:27:22.598 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:27:22.620 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:27:24.574 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:27:24.925 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:27:24.958 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:27:24.966 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 2341.9371ms
2024-06-24 16:27:24.966 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:27:24.977 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 2421.1879ms
2024-06-24 16:34:06.795 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 16:34:07.045 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:34:07.074 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 16:34:07.075 +03:00 [INF] Hosting environment: Development
2024-06-24 16:34:07.075 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 16:34:07.232 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:34:07.250 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 207.1821ms
2024-06-24 16:34:07.250 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 17.2937ms
2024-06-24 16:34:07.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:34:07.402 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 4.2489ms
2024-06-24 16:34:07.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:34:07.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:34:07.430 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 1.2358ms
2024-06-24 16:34:07.494 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.4743ms
2024-06-24 16:34:07.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:34:07.525 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.5472ms
2024-06-24 16:34:07.600 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:34:07.811 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:34:07.811 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 211.0007ms
2024-06-24 16:34:07.855 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.5415ms
2024-06-24 16:34:28.976 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 16:34:28.981 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 16:34:28.982 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:34:29.026 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 16:34:29.063 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:34:31.750 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 16:34:31.920 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 16:34:31.996 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 16:34:32.002 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 2934.3002ms
2024-06-24 16:34:32.003 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 16:34:32.015 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 3038.8526ms
2024-06-24 16:35:14.308 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 230
2024-06-24 16:35:14.312 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:35:14.314 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 16:35:14.321 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:35:14.460 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:35:14.546 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 16:35:14.793 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 16:35:15.028 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 16:35:15.210 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 16:35:15.299 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 16:35:15.453 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 16:35:15.537 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 16:35:15.624 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 16:35:15.812 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 16:35:16.018 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 16:35:16.122 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:35:16.205 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 16:35:16.289 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 16:35:16.311 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 16:35:16.312 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:35:16.316 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 1994.647ms
2024-06-24 16:35:16.316 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 16:35:16.316 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2008.303ms
2024-06-24 16:35:29.696 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryAUxP8VwNahJGmADJ 71076
2024-06-24 16:35:29.697 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:35:29.698 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:35:29.708 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:35:29.912 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:35:32.449 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:35:32.451 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2742.6147ms
2024-06-24 16:35:32.451 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:35:32.452 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2755.6708ms
2024-06-24 16:35:39.667 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundary05CmhKBIpPmh6Fis 132929
2024-06-24 16:35:39.668 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:35:39.668 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:35:39.668 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:35:39.869 +03:00 [INF] Executed DbCommand (194ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:35:42.993 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:35:42.994 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3325.3032ms
2024-06-24 16:35:42.994 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 16:35:42.995 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3327.0554ms
2024-06-24 16:35:51.718 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 16:35:51.718 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:35:51.718 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 16:35:51.723 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 16:35:51.810 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:35:51.918 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:35:52.051 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 16:35:52.088 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0f7f1f75-e106-4afa-9841-89ffc73b985e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0f7f1f75-e106-4afa-9841-89ffc73b985e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 16:35:52.091 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 367.7598ms
2024-06-24 16:35:52.093 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 16:35:52.094 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0f7f1f75-e106-4afa-9841-89ffc73b985e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.NotificationRepository.AddNotificationAsync(Notification notification) in C:\final\AIDMS\AIDMS\Repositories\NotificationRepository.cs:line 28
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 248
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 16:35:52.108 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 390.4035ms
2024-06-24 16:39:39.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:39:39.144 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 5.128ms
2024-06-24 16:39:39.186 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:39:39.187 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:39:39.188 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 0.917ms
2024-06-24 16:39:39.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.6636ms
2024-06-24 16:39:39.390 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:39:39.429 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.2159ms
2024-06-24 16:39:46.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:39:46.679 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 2.2851ms
2024-06-24 16:39:46.724 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:39:46.724 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:39:46.725 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 1.0696ms
2024-06-24 16:39:46.732 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.3076ms
2024-06-24 16:39:46.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:39:46.861 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.0267ms
2024-06-24 16:40:04.431 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:40:04.446 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 14.9906ms
2024-06-24 16:40:04.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:40:04.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:40:04.651 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 3.2933ms
2024-06-24 16:40:04.791 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 142.665ms
2024-06-24 16:40:04.954 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:40:05.215 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 260.9728ms
2024-06-24 16:40:05.590 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:40:05.591 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 0.8974ms
2024-06-24 16:40:05.632 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:40:05.654 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.8667ms
2024-06-24 16:40:05.917 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:40:05.934 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.2515ms
2024-06-24 16:40:19.438 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 84
2024-06-24 16:40:19.438 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:40:19.439 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:40:19.444 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:40:19.534 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:40:19.729 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:40:19.755 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:40:19.756 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 311.956ms
2024-06-24 16:40:19.757 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:40:19.757 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 319.1767ms
2024-06-24 16:41:46.870 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Student/43 - null null
2024-06-24 16:41:46.931 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.StudentController.GetStudentPersonalInfoById (AIDMS)'
2024-06-24 16:41:46.935 +03:00 [INF] Route matched with {action = "GetStudentPersonalInfoById", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentPersonalInfoById(Int32) on controller AIDMS.Controllers.StudentController (AIDMS).
2024-06-24 16:41:47.014 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:41:47.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'AIDMS.DTOs.StudentDto'.
2024-06-24 16:41:47.039 +03:00 [INF] Executed action AIDMS.Controllers.StudentController.GetStudentPersonalInfoById (AIDMS) in 104.0301ms
2024-06-24 16:41:47.039 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.StudentController.GetStudentPersonalInfoById (AIDMS)'
2024-06-24 16:41:47.040 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Student/43 - 200 null application/json; charset=utf-8 169.4337ms
2024-06-24 16:42:32.748 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Student/expenses - multipart/form-data; boundary=----WebKitFormBoundarynO6TZzcFmeYT8BB9 51098
2024-06-24 16:42:32.759 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:42:32.764 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS)'
2024-06-24 16:42:32.769 +03:00 [INF] Route matched with {action = "RequestExpensesPayment", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestExpensesPayment(CreateApplicationDto) on controller AIDMS.Controllers.StudentController (AIDMS).
2024-06-24 16:42:32.965 +03:00 [INF] Executed DbCommand (190ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:42:35.218 +03:00 [INF] Executed DbCommand (205ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 16:42:35.423 +03:00 [INF] Executed DbCommand (196ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (Size = 50), @p12='?' (Size = 255), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Documents] ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15);
2024-06-24 16:42:36.037 +03:00 [INF] Executed DbCommand (384ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [DocumentURL], [TimeStamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-24 16:42:36.137 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 16:42:36.217 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 16:42:36.300 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Applications] SET [PaymentId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-06-24 16:42:36.377 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:42:36.458 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 16:42:36.464 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'AIDMS.Entities.Application'.
2024-06-24 16:42:36.501 +03:00 [INF] Executed action AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS) in 3731.4576ms
2024-06-24 16:42:36.501 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS)'
2024-06-24 16:42:36.501 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Student/expenses - 201 null application/json; charset=utf-8 3753.4162ms
2024-06-24 16:43:17.318 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Student/military - multipart/form-data; boundary=----WebKitFormBoundaryYNta80fpGBenNq63 51099
2024-06-24 16:43:17.318 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:43:17.320 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.StudentController.RequestMilitaryEducation (AIDMS)'
2024-06-24 16:43:17.325 +03:00 [INF] Route matched with {action = "RequestMilitaryEducation", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestMilitaryEducation(CreateApplicationDto) on controller AIDMS.Controllers.StudentController (AIDMS).
2024-06-24 16:43:17.612 +03:00 [INF] Executed DbCommand (281ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:43:19.455 +03:00 [INF] Executed DbCommand (204ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 16:43:19.660 +03:00 [INF] Executed DbCommand (204ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (Size = 50), @p12='?' (Size = 255), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Documents] ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15);
2024-06-24 16:43:19.957 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [DocumentURL], [TimeStamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-24 16:43:20.035 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 16:43:20.114 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 16:43:20.189 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Applications] SET [PaymentId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-06-24 16:43:20.265 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 16:43:20.343 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 16:43:20.343 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'AIDMS.Entities.Application'.
2024-06-24 16:43:20.345 +03:00 [INF] Executed action AIDMS.Controllers.StudentController.RequestMilitaryEducation (AIDMS) in 3020.3609ms
2024-06-24 16:43:20.345 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.StudentController.RequestMilitaryEducation (AIDMS)'
2024-06-24 16:43:20.346 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Student/military - 201 null application/json; charset=utf-8 3027.8024ms
2024-06-24 16:44:39.434 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Auth/logout - null null
2024-06-24 16:44:39.436 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Logout (AIDMS)'
2024-06-24 16:44:39.439 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:44:39.450 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-06-24 16:44:39.451 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-06-24 16:44:39.451 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-06-24 16:44:39.452 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 16:44:39.452 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Logout (AIDMS) in 12.7231ms
2024-06-24 16:44:39.452 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Logout (AIDMS)'
2024-06-24 16:44:39.452 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Auth/logout - 200 null text/plain; charset=utf-8 18.6402ms
2024-06-24 16:45:10.533 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 16:45:10.533 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:45:10.534 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:45:10.534 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:45:10.614 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:45:10.817 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:45:10.818 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:45:10.818 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 284.3911ms
2024-06-24 16:45:10.818 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:45:10.819 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 285.4738ms
2024-06-24 16:45:17.422 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 16:45:17.422 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:45:17.422 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:45:17.423 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:45:17.500 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:45:17.686 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:45:17.687 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:45:17.687 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 264.5198ms
2024-06-24 16:45:17.687 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:45:17.688 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 265.9621ms
2024-06-24 16:45:20.344 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 16:45:20.344 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:45:20.345 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:45:20.345 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:45:20.424 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:45:20.616 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:45:20.617 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:45:20.617 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 271.814ms
2024-06-24 16:45:20.617 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:45:20.618 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 273.8146ms
2024-06-24 16:46:28.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - null null
2024-06-24 16:46:28.542 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Affairs Officer|Academic Supervisor)
2024-06-24 16:46:28.545 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-24 16:46:28.547 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - 403 null null 19.4479ms
2024-06-24 16:47:25.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - null null
2024-06-24 16:47:25.736 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Affairs Officer|Academic Supervisor)
2024-06-24 16:47:25.736 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-24 16:47:25.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - 403 null null 3.2841ms
2024-06-24 16:51:43.221 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 16:51:43.476 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:51:43.476 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:51:43.476 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:51:43.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 499 13746 application/javascript; charset=utf-8 8.5856ms
2024-06-24 16:51:43.497 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 16:51:43.497 +03:00 [INF] Hosting environment: Development
2024-06-24 16:51:43.497 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 16:51:43.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.2379ms
2024-06-24 16:51:43.623 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 148.6483ms
2024-06-24 16:51:43.682 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:51:43.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 3.0228ms
2024-06-24 16:51:43.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:51:43.711 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7432ms
2024-06-24 16:51:43.835 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:51:44.009 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 174.725ms
2024-06-24 16:51:59.529 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 16:51:59.534 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 16:51:59.536 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:51:59.564 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:51:59.586 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:52:01.921 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:52:02.342 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:52:02.387 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:52:02.398 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 2806.2787ms
2024-06-24 16:52:02.398 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:52:02.411 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 2882.1307ms
2024-06-24 16:52:22.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - null null
2024-06-24 16:52:22.745 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS)'
2024-06-24 16:52:22.753 +03:00 [INF] Route matched with {action = "GetAllNotificationsByEmployeeId", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AIDMS.Entities.Notification]]] GetAllNotificationsByEmployeeId(Int32) on controller AIDMS.Controllers.EmployeeController (AIDMS).
2024-06-24 16:52:22.974 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__empId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AIDocumentId], [n].[CreatedAt], [n].[EmployeeId], [n].[IsRead], [n].[Message], [n].[StudentId], [n].[fromStudent], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Notifications] AS [n]
LEFT JOIN [Students] AS [s] ON [n].[StudentId] = [s].[Id]
WHERE [n].[EmployeeId] = @__empId_0 AND [n].[fromStudent] = CAST(1 AS bit)
2024-06-24 16:52:23.054 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 16:52:23.055 +03:00 [INF] Executed action AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS) in 301.1439ms
2024-06-24 16:52:23.055 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS)'
2024-06-24 16:52:23.056 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - 200 null text/plain; charset=utf-8 367.8142ms
2024-06-24 16:52:53.169 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 16:52:53.302 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:52:53.335 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 16:52:53.335 +03:00 [INF] Hosting environment: Development
2024-06-24 16:52:53.336 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 16:52:53.475 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 174.8267ms
2024-06-24 16:52:53.534 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 16:52:53.539 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 3.7704ms
2024-06-24 16:52:53.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 16:52:53.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.508ms
2024-06-24 16:52:53.679 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:52:53.821 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.8858ms
2024-06-24 16:54:53.580 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 16:54:54.022 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 16:54:54.023 +03:00 [INF] Hosting environment: Development
2024-06-24 16:54:54.023 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 16:54:54.156 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 16:54:54.418 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 266.0977ms
2024-06-24 16:54:55.391 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 16:54:55.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.3564ms
2024-06-24 16:55:44.289 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 16:55:44.313 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 16:55:44.316 +03:00 [INF] CORS policy execution successful.
2024-06-24 16:55:44.483 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:55:44.533 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 16:55:44.937 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 16:55:49.365 +03:00 [INF] Executed DbCommand (246ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 16:55:50.289 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 16:55:50.481 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5538.4384ms.
2024-06-24 16:55:50.501 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 16:55:50.523 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 5985.5005ms
2024-06-24 16:55:50.524 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 16:55:50.546 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 6257.0954ms
2024-06-24 16:56:23.372 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - null null
2024-06-24 16:56:23.476 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS)'
2024-06-24 16:56:23.481 +03:00 [INF] Route matched with {action = "GetAllNotificationsByEmployeeId", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AIDMS.Entities.Notification]]] GetAllNotificationsByEmployeeId(Int32) on controller AIDMS.Controllers.EmployeeController (AIDMS).
2024-06-24 16:56:23.493 +03:00 [INF] Executing action method AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS) - Validation state: "Valid"
2024-06-24 16:56:30.984 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[@__empId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AIDocumentId], [n].[CreatedAt], [n].[EmployeeId], [n].[IsRead], [n].[Message], [n].[StudentId], [n].[fromStudent], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Notifications] AS [n]
LEFT JOIN [Students] AS [s] ON [n].[StudentId] = [s].[Id]
WHERE [n].[EmployeeId] = @__empId_0 AND [n].[fromStudent] = CAST(1 AS bit)
2024-06-24 17:00:49.542 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 17:00:49.733 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 17:00:49.733 +03:00 [INF] Hosting environment: Development
2024-06-24 17:00:49.734 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 17:00:49.793 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 17:00:50.091 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 299.244ms
2024-06-24 17:00:50.336 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 17:00:50.671 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 335.5726ms
2024-06-24 17:01:16.384 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 17:01:16.392 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 17:01:16.394 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:01:16.490 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 17:01:16.534 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 17:01:16.831 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 17:01:20.052 +03:00 [INF] Executed DbCommand (168ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 17:01:20.541 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 17:01:20.604 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3765.05ms.
2024-06-24 17:01:20.618 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 17:01:20.637 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 4096.9158ms
2024-06-24 17:01:20.639 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 17:01:20.669 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 4284.61ms
2024-06-24 17:02:01.750 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - null null
2024-06-24 17:02:01.859 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS)'
2024-06-24 17:02:01.869 +03:00 [INF] Route matched with {action = "GetAllNotificationsByEmployeeId", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AIDMS.Entities.Notification]]] GetAllNotificationsByEmployeeId(Int32) on controller AIDMS.Controllers.EmployeeController (AIDMS).
2024-06-24 17:02:01.880 +03:00 [INF] Executing action method AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS) - Validation state: "Valid"
2024-06-24 17:02:02.171 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__empId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[AIDocumentId], [n].[CreatedAt], [n].[EmployeeId], [n].[IsRead], [n].[Message], [n].[StudentId], [n].[fromStudent], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Notifications] AS [n]
LEFT JOIN [Students] AS [s] ON [n].[StudentId] = [s].[Id]
WHERE [n].[EmployeeId] = @__empId_0 AND [n].[fromStudent] = CAST(1 AS bit)
2024-06-24 17:02:02.327 +03:00 [INF] Executed action method AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 446.1663ms.
2024-06-24 17:02:02.331 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[AIDMS.Entities.Notification, AIDMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[AIDMS.DTOs.UserNotificationDto, AIDMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-24 17:02:02.344 +03:00 [INF] Executed action AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS) in 474.1431ms
2024-06-24 17:02:02.344 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.EmployeeController.GetAllNotificationsByEmployeeId (AIDMS)'
2024-06-24 17:02:02.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Employee/notifications/13 - 200 null application/json; charset=utf-8 595.3724ms
2024-06-24 17:06:39.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Application/pending/employee - null null
2024-06-24 17:06:39.095 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.ApplicationController.GetPendingApplicationsExceptMaterial (AIDMS)'
2024-06-24 17:06:39.102 +03:00 [INF] Route matched with {action = "GetPendingApplicationsExceptMaterial", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[AIDMS.DTOs.ApplicationRequestDto]] GetPendingApplicationsExceptMaterial() on controller AIDMS.Controllers.ApplicationController (AIDMS).
2024-06-24 17:06:39.120 +03:00 [INF] Executing action method AIDMS.Controllers.ApplicationController.GetPendingApplicationsExceptMaterial (AIDMS) - Validation state: "Valid"
2024-06-24 17:06:39.292 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE UPPER([a].[Status]) = N'PENDING'
2024-06-24 17:06:39.333 +03:00 [INF] Executed action method AIDMS.Controllers.ApplicationController.GetPendingApplicationsExceptMaterial (AIDMS), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 213.0405ms.
2024-06-24 17:06:39.334 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[AIDMS.Entities.Application, AIDMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[AIDMS.DTOs.ApplicationRequestDto, AIDMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-24 17:06:39.389 +03:00 [INF] Executed action AIDMS.Controllers.ApplicationController.GetPendingApplicationsExceptMaterial (AIDMS) in 286.3013ms
2024-06-24 17:06:39.390 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.ApplicationController.GetPendingApplicationsExceptMaterial (AIDMS)'
2024-06-24 17:06:39.398 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AIDMS.Controllers.ApplicationController.<>c.<GetPendingApplicationsExceptMaterial>b__6_1(Application app) in C:\final\AIDMS\AIDMS\Controllers\ApplicationController.cs:line 70
   at System.Linq.Enumerable.WhereSelectListIterator`2.MoveNext()
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 217
2024-06-24 17:06:39.437 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Application/pending/employee - 500 null application/json 348.7341ms
2024-06-24 17:10:04.595 +03:00 [INF] Application is shutting down...
2024-06-24 17:10:27.682 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 17:10:27.942 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 17:10:27.943 +03:00 [INF] Hosting environment: Development
2024-06-24 17:10:27.943 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 17:10:28.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 17:10:28.271 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 216.9659ms
2024-06-24 17:10:28.446 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 17:10:28.707 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 261.4503ms
2024-06-24 17:10:49.505 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 88
2024-06-24 17:10:49.527 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 17:10:49.529 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:10:49.670 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 17:10:49.709 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 17:10:50.060 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 17:10:53.040 +03:00 [INF] Executed DbCommand (184ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 17:10:53.475 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 17:10:53.561 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3493.5056ms.
2024-06-24 17:10:53.574 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 17:10:53.589 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 3874.9382ms
2024-06-24 17:10:53.590 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 17:10:53.607 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 4101.9882ms
2024-06-24 17:11:15.855 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Application/pending/employee - null null
2024-06-24 17:11:15.989 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.ApplicationController.GetPendingApplicationsExceptMaterial (AIDMS)'
2024-06-24 17:11:15.993 +03:00 [INF] Route matched with {action = "GetPendingApplicationsExceptMaterial", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[AIDMS.DTOs.ApplicationRequestDto]] GetPendingApplicationsExceptMaterial() on controller AIDMS.Controllers.ApplicationController (AIDMS).
2024-06-24 17:11:16.009 +03:00 [INF] Executing action method AIDMS.Controllers.ApplicationController.GetPendingApplicationsExceptMaterial (AIDMS) - Validation state: "Valid"
2024-06-24 17:11:21.874 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE UPPER([a].[Status]) = N'PENDING'
2024-06-24 17:16:25.523 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 17:16:25.711 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 17:16:25.712 +03:00 [INF] Hosting environment: Development
2024-06-24 17:16:25.712 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 17:16:25.744 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 17:16:26.027 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 284.166ms
2024-06-24 17:16:26.422 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 17:16:26.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 332.1082ms
2024-06-24 17:16:34.623 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/api/Application/pending/employee - null null
2024-06-24 17:16:34.631 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 17:16:34.693 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Affairs Officer)
2024-06-24 17:16:34.699 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-24 17:16:34.701 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/api/Application/pending/employee - 401 null null 77.5728ms
2024-06-24 17:23:24.372 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Auth/login - application/json 84
2024-06-24 17:23:24.378 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:23:24.386 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 17:23:24.464 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AIDMS.Security_Entities.LoginModel) on controller AIDMS.Controllers.AuthController (AIDMS).
2024-06-24 17:23:24.799 +03:00 [INF] Executing action method AIDMS.Controllers.AuthController.Login (AIDMS) - Validation state: "Valid"
2024-06-24 17:23:28.358 +03:00 [INF] Executed DbCommand (167ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 17:23:28.861 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 17:23:28.921 +03:00 [INF] Executed action method AIDMS.Controllers.AuthController.Login (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4114.3417ms.
2024-06-24 17:23:28.936 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 17:23:28.954 +03:00 [INF] Executed action AIDMS.Controllers.AuthController.Login (AIDMS) in 4483.1844ms
2024-06-24 17:23:28.956 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.AuthController.Login (AIDMS)'
2024-06-24 17:23:28.982 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Auth/login - 200 null application/json; charset=utf-8 4610.0087ms
2024-06-24 17:23:51.879 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Student/expenses - multipart/form-data; boundary=----WebKitFormBoundarycDmJ4U4hnOZJ7l2x 133050
2024-06-24 17:23:51.881 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:23:51.979 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS)'
2024-06-24 17:23:51.988 +03:00 [INF] Route matched with {action = "RequestExpensesPayment", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestExpensesPayment(CreateApplicationDto) on controller AIDMS.Controllers.StudentController (AIDMS).
2024-06-24 17:23:52.373 +03:00 [INF] Executing action method AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS) - Validation state: "Valid"
2024-06-24 17:23:52.654 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:23:55.100 +03:00 [INF] Executed DbCommand (190ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 150), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Applications] ([DecisionDate], [Description], [EmployeeId], [PaymentId], [ReviewDate], [Status], [StudentId], [SubmittedAt], [Title], [isAccepted])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-06-24 17:23:55.305 +03:00 [INF] Executed DbCommand (168ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (Size = 50), @p12='?' (Size = 255), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Documents] ([ApplicationId], [FileName], [FilePath], [FileType], [StudentId], [UploadedAt])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15);
2024-06-24 17:23:55.695 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [DocumentURL], [TimeStamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-24 17:23:55.919 +03:00 [INF] Executed DbCommand (200ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 17:23:56.105 +03:00 [INF] Executed DbCommand (179ms) [Parameters=[@__applicationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[DecisionDate], [a].[Description], [a].[EmployeeId], [a].[PaymentId], [a].[ReviewDate], [a].[Status], [a].[StudentId], [a].[SubmittedAt], [a].[Title], [a].[isAccepted], [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Applications] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[StudentId] = [s].[Id]
WHERE [a].[Id] = @__applicationId_0
2024-06-24 17:23:56.310 +03:00 [INF] Executed DbCommand (179ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Applications] SET [PaymentId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-06-24 17:23:56.405 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:23:56.720 +03:00 [INF] Executed DbCommand (263ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 17:23:56.728 +03:00 [INF] Executed action method AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 4355.2667ms.
2024-06-24 17:23:56.729 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'AIDMS.Entities.Application'.
2024-06-24 17:23:56.864 +03:00 [INF] Executed action AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS) in 4874.865ms
2024-06-24 17:23:56.864 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.StudentController.RequestExpensesPayment (AIDMS)'
2024-06-24 17:23:56.867 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Student/expenses - 201 null application/json; charset=utf-8 4988.0283ms
2024-06-24 17:27:36.894 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2225/api/Application/accept/7/43 - null 0
2024-06-24 17:27:36.895 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:27:36.898 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Affairs Officer|Academic Supervisor)
2024-06-24 17:27:36.901 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-24 17:27:36.901 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:2225/api/Application/accept/7/43 - 403 null null 7.4507ms
2024-06-24 17:36:18.624 +03:00 [INF] Application is shutting down...
2024-06-24 17:46:50.058 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 17:46:50.290 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 17:46:50.291 +03:00 [INF] Hosting environment: Development
2024-06-24 17:46:50.291 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 17:46:50.347 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 17:46:50.556 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 210.4159ms
2024-06-24 17:46:51.620 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 17:46:51.842 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 221.5105ms
2024-06-24 17:47:59.920 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 17:47:59.931 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 17:47:59.934 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:48:00.022 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 17:48:00.094 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:48:01.420 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 17:48:05.018 +03:00 [INF] Executed DbCommand (153ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 17:48:05.303 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 17:48:05.400 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3972.1308ms.
2024-06-24 17:48:05.412 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 17:48:05.422 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 5320.8793ms
2024-06-24 17:48:05.424 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 17:48:05.456 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5535.6308ms
2024-06-24 17:48:50.553 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 232
2024-06-24 17:48:50.558 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:48:50.561 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:48:50.574 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:48:50.607 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 17:48:50.762 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 17:48:50.900 +03:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:48:51.358 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 17:48:51.685 +03:00 [INF] Executed DbCommand (133ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:48:51.947 +03:00 [INF] Executed DbCommand (140ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 17:48:52.115 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 17:48:52.342 +03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 17:48:52.452 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 17:48:52.583 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:48:52.896 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 17:48:53.196 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 17:48:53.312 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 17:48:53.425 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 17:48:53.568 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 17:48:53.592 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 17:48:53.593 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2985.2189ms.
2024-06-24 17:48:53.594 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 17:48:53.604 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3029.7745ms
2024-06-24 17:48:53.604 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:48:53.605 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3051.5625ms
2024-06-24 17:49:15.530 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarydFta0kcEiJOkpySl 103516
2024-06-24 17:49:15.531 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:49:15.533 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:49:15.543 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:49:15.632 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 17:49:15.841 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:49:21.543 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5910.6301ms.
2024-06-24 17:49:21.543 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 17:49:21.544 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 6000.9247ms
2024-06-24 17:49:21.544 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:49:21.546 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 6016.5002ms
2024-06-24 17:49:30.434 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryckSXfRgi3LHAyx0m 63880
2024-06-24 17:49:30.434 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:49:30.435 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:49:30.435 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:49:30.437 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 17:49:30.532 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:49:31.699 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1262.1063ms.
2024-06-24 17:49:31.700 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 17:49:31.700 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 1265.3796ms
2024-06-24 17:49:31.702 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:49:31.702 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 1268.4156ms
2024-06-24 17:49:34.943 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarypJRyXb1aTjwgSVRL 63880
2024-06-24 17:49:34.944 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:49:34.944 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:49:34.944 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:49:34.976 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 17:49:35.221 +03:00 [INF] Executed DbCommand (242ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:49:36.735 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1758.5723ms.
2024-06-24 17:49:36.735 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 17:49:36.736 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 1791.5473ms
2024-06-24 17:49:36.736 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:49:36.737 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 1793.2963ms
2024-06-24 17:53:57.650 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryBL0tWPXldfti0xMP 61663
2024-06-24 17:53:58.051 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:53:58.215 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:53:58.346 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:53:59.086 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 17:53:59.813 +03:00 [INF] Executed DbCommand (178ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:54:01.553 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2466.4855ms.
2024-06-24 17:54:01.557 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 17:54:01.599 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3252.3446ms
2024-06-24 17:54:01.599 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:54:01.606 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 4106.6301ms
2024-06-24 17:55:24.258 +03:00 [INF] Application is shutting down...
2024-06-24 17:56:08.054 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 17:56:08.254 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 17:56:08.255 +03:00 [INF] Hosting environment: Development
2024-06-24 17:56:08.255 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 17:56:08.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 17:56:08.481 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 194.8172ms
2024-06-24 17:56:09.331 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 17:56:09.601 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 270.3877ms
2024-06-24 17:56:36.356 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 17:56:36.365 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 17:56:36.367 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:56:36.422 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 17:56:36.463 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:56:37.653 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 17:56:41.020 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 17:56:41.291 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 17:56:41.390 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3728.0743ms.
2024-06-24 17:56:41.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 17:56:41.413 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4942.5861ms
2024-06-24 17:56:41.414 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 17:56:41.442 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5086.3253ms
2024-06-24 17:56:58.221 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 236
2024-06-24 17:56:58.225 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:56:58.227 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:56:58.236 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:56:58.492 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 17:56:58.637 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 17:56:58.728 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:56:58.806 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 313.4703ms.
2024-06-24 17:56:58.807 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 17:56:58.808 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 571.8058ms
2024-06-24 17:56:58.809 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:56:58.810 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 400 null text/plain; charset=utf-8 588.5472ms
2024-06-24 17:57:07.471 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 238
2024-06-24 17:57:07.472 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:57:07.475 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:57:07.475 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:57:07.502 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 17:57:07.664 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 17:57:07.745 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:57:08.107 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 17:57:08.416 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:57:08.560 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 17:57:08.657 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 17:57:08.824 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 17:57:08.906 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 17:57:09.005 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:57:09.234 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 17:57:09.466 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 17:57:09.581 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 17:57:09.666 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 17:57:09.749 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 17:57:09.766 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 17:57:09.767 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2264.1198ms.
2024-06-24 17:57:09.767 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 17:57:09.775 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2300.0622ms
2024-06-24 17:57:09.775 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:57:09.776 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2304.1098ms
2024-06-24 17:57:22.931 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryJMT4MgcgF8XuSgaq 61663
2024-06-24 17:57:22.931 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:57:22.931 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:57:22.940 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:57:22.972 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 17:57:23.244 +03:00 [INF] Executed DbCommand (258ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:57:26.633 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3660.9088ms.
2024-06-24 17:57:26.634 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 17:57:26.634 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3694.1848ms
2024-06-24 17:57:26.634 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:57:26.635 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 3704.6948ms
2024-06-24 17:58:11.735 +03:00 [INF] Application is shutting down...
2024-06-24 17:58:35.655 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 17:58:35.866 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 17:58:35.866 +03:00 [INF] Hosting environment: Development
2024-06-24 17:58:35.866 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 17:58:35.938 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 17:58:36.151 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 216.3126ms
2024-06-24 17:58:36.366 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 17:58:36.646 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 280.235ms
2024-06-24 17:58:53.522 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 17:58:53.532 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 17:58:53.536 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:58:53.600 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 17:58:53.644 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:58:54.898 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 17:58:58.278 +03:00 [INF] Executed DbCommand (172ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 17:58:58.579 +03:00 [INF] Executed DbCommand (133ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 17:58:58.680 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3774.2394ms.
2024-06-24 17:58:58.694 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 17:58:58.703 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 5052.3186ms
2024-06-24 17:58:58.705 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 17:58:58.733 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5211.2926ms
2024-06-24 17:59:15.332 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 239
2024-06-24 17:59:15.337 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:59:15.339 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:59:15.351 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:59:15.389 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 17:59:15.535 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 17:59:15.634 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:59:16.029 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 17:59:16.339 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:59:16.560 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 17:59:16.664 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 17:59:16.839 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 17:59:16.925 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 17:59:17.032 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 17:59:17.271 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 17:59:17.532 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 17:59:17.656 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 17:59:17.748 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 17:59:17.840 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 17:59:17.863 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 17:59:17.863 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2473.9173ms.
2024-06-24 17:59:17.864 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 17:59:17.875 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2522.9659ms
2024-06-24 17:59:17.875 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 17:59:17.876 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2543.732ms
2024-06-24 17:59:34.497 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarywSzcczU4KslHkA6W 61663
2024-06-24 17:59:34.498 +03:00 [INF] CORS policy execution successful.
2024-06-24 17:59:34.500 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:59:34.516 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 17:59:34.591 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 17:59:34.790 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 17:59:37.182 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2590.8051ms.
2024-06-24 17:59:37.182 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 17:59:37.183 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2667.295ms
2024-06-24 17:59:37.184 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 17:59:37.188 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 2690.6832ms
2024-06-24 18:05:53.174 +03:00 [INF] Application is shutting down...
2024-06-24 18:06:10.601 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 18:06:10.772 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 18:06:10.774 +03:00 [INF] Hosting environment: Development
2024-06-24 18:06:10.774 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 18:06:10.803 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 18:06:10.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 173.0997ms
2024-06-24 18:06:11.361 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 18:06:11.616 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 255.6147ms
2024-06-24 18:06:34.789 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 18:06:34.798 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 18:06:34.799 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:06:34.859 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:06:34.907 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:06:36.180 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 18:06:39.431 +03:00 [INF] Executed DbCommand (164ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 18:06:39.703 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 18:06:39.801 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3613.5973ms.
2024-06-24 18:06:39.818 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 18:06:39.827 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4913.7425ms
2024-06-24 18:06:39.829 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:06:39.852 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5062.2148ms
2024-06-24 18:06:57.130 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 241
2024-06-24 18:06:57.146 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:06:57.152 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:06:57.167 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:06:57.205 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 18:06:57.343 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 18:06:57.433 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:06:57.800 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 18:06:58.064 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:06:58.291 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 18:06:58.391 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:06:58.548 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 18:06:58.631 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:06:58.750 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:06:58.967 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 18:06:59.201 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 18:06:59.321 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 18:06:59.407 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 18:06:59.492 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 18:06:59.515 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 18:06:59.516 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2311.243ms.
2024-06-24 18:06:59.518 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:06:59.533 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2365.816ms
2024-06-24 18:06:59.533 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:06:59.534 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2403.8887ms
2024-06-24 18:07:16.973 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryxCknpS3EUJG4fa4Z 61663
2024-06-24 18:07:16.973 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:07:16.975 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:07:16.985 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:07:17.046 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:07:17.355 +03:00 [INF] Executed DbCommand (197ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:07:20.585 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3538.1906ms.
2024-06-24 18:07:20.585 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 18:07:20.586 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3601.2674ms
2024-06-24 18:07:20.587 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:07:20.588 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 3615.3508ms
2024-06-24 18:08:16.469 +03:00 [INF] Application is shutting down...
2024-06-24 18:08:33.291 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 18:08:33.446 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 18:08:33.447 +03:00 [INF] Hosting environment: Development
2024-06-24 18:08:33.447 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 18:08:33.470 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 18:08:33.645 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 176.0297ms
2024-06-24 18:08:33.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 18:08:34.116 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 268.4711ms
2024-06-24 18:09:06.957 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 18:09:06.964 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 18:09:06.965 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:09:07.019 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:09:07.049 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:09:08.175 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 18:09:11.454 +03:00 [INF] Executed DbCommand (190ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 18:09:11.726 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 18:09:11.815 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3632.3861ms.
2024-06-24 18:09:11.828 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 18:09:11.837 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4780.7942ms
2024-06-24 18:09:11.838 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:09:11.868 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 4910.6398ms
2024-06-24 18:09:27.227 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 242
2024-06-24 18:09:27.231 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:09:27.232 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:09:27.241 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:09:27.276 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 18:09:27.454 +03:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 18:09:27.586 +03:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:09:28.028 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 18:09:28.332 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:09:28.587 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 18:09:28.718 +03:00 [INF] Executed DbCommand (108ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:09:28.946 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 18:09:29.065 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:09:29.200 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:09:29.521 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 18:09:29.829 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 18:09:29.985 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 18:09:30.106 +03:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 18:09:30.224 +03:00 [INF] Executed DbCommand (110ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 18:09:30.247 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 18:09:30.248 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2972.1342ms.
2024-06-24 18:09:30.249 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:09:30.259 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 3017.9255ms
2024-06-24 18:09:30.260 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:09:30.260 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 3033.1783ms
2024-06-24 18:09:56.004 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarytrpAiu8XdP8g863s 61663
2024-06-24 18:09:56.006 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:09:56.009 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:09:56.017 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:09:56.073 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:09:56.490 +03:00 [INF] Executed DbCommand (311ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:09:59.563 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3489.7797ms.
2024-06-24 18:09:59.563 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 18:09:59.564 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3546.4581ms
2024-06-24 18:09:59.564 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:09:59.565 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 3561.436ms
2024-06-24 18:10:48.625 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarysduHYDjVKevuNUUR 71076
2024-06-24 18:10:48.625 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:10:48.626 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:10:48.626 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:10:48.665 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:10:48.935 +03:00 [INF] Executed DbCommand (268ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:10:52.854 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4188.517ms.
2024-06-24 18:10:52.854 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:10:52.857 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 4231.5224ms
2024-06-24 18:10:52.858 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:10:52.860 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 4234.642ms
2024-06-24 18:17:22.708 +03:00 [INF] Application is shutting down...
2024-06-24 18:17:45.704 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 18:17:45.981 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 18:17:45.981 +03:00 [INF] Hosting environment: Development
2024-06-24 18:17:45.982 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 18:17:46.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 18:17:46.288 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 226.0802ms
2024-06-24 18:17:46.837 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 18:17:47.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 249.125ms
2024-06-24 18:18:05.878 +03:00 [INF] Application is shutting down...
2024-06-24 18:18:28.515 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 18:18:28.649 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 18:18:28.649 +03:00 [INF] Hosting environment: Development
2024-06-24 18:18:28.649 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 18:18:28.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 18:18:28.843 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 174.3698ms
2024-06-24 18:18:29.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 18:18:29.316 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 254.7589ms
2024-06-24 18:18:49.631 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 18:18:49.644 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 18:18:49.645 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:18:49.715 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:18:49.767 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:18:51.082 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 18:18:54.382 +03:00 [INF] Executed DbCommand (157ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 18:18:54.672 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 18:18:54.763 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3672.7369ms.
2024-06-24 18:18:54.775 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 18:18:54.783 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 5009.3437ms
2024-06-24 18:18:54.785 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:18:54.809 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5177.9893ms
2024-06-24 18:19:15.100 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 240
2024-06-24 18:19:15.108 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:19:15.110 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:19:15.123 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:19:15.166 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 18:19:15.317 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 18:19:15.416 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:19:15.819 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 18:19:16.098 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:19:16.375 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 18:19:16.484 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:19:16.670 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 18:19:16.768 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:19:16.874 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:19:17.112 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 18:19:17.390 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 18:19:17.531 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 18:19:17.625 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 18:19:17.719 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 18:19:17.748 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 18:19:17.749 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2582.424ms.
2024-06-24 18:19:17.749 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:19:17.759 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2635.5274ms
2024-06-24 18:19:17.759 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:19:17.760 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2660.0239ms
2024-06-24 18:19:30.087 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryrTY18GrsbSZCXCl9 61663
2024-06-24 18:19:30.088 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:19:30.090 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:19:30.100 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:19:30.168 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:19:30.414 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:19:32.912 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2744.1244ms.
2024-06-24 18:19:32.913 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:19:32.916 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2815.288ms
2024-06-24 18:19:32.916 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:19:32.918 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2830.489ms
2024-06-24 18:19:53.276 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryOK784IGpr1Xlk6ec 71076
2024-06-24 18:19:53.277 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:19:53.277 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:19:53.277 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:19:53.309 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:19:53.484 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:19:56.477 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3167.4142ms.
2024-06-24 18:19:56.477 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:19:56.478 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3200.4601ms
2024-06-24 18:19:56.478 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:19:56.479 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 3202.9279ms
2024-06-24 18:20:12.163 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarydAQiMSI434qG51wh 132929
2024-06-24 18:20:12.164 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:20:12.164 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:20:12.165 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:20:12.171 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:20:12.314 +03:00 [INF] Executed DbCommand (141ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:20:14.553 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2381.259ms.
2024-06-24 18:20:14.553 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:20:14.553 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2388.5899ms
2024-06-24 18:20:14.554 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:20:14.554 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2390.9432ms
2024-06-24 18:20:21.434 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 18:20:21.434 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:20:21.434 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 18:20:21.441 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:20:21.442 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 18:20:21.532 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:20:21.683 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:20:21.854 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AIDocumentId], [CreatedAt], [EmployeeId], [IsRead], [Message], [StudentId], [fromStudent])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-24 18:20:21.903 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AIDMS.Entities.AIDMSContextClass'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f9c2d6b9-a5f8-40b0-9577-20f39034b989
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f9c2d6b9-a5f8-40b0-9577-20f39034b989
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-24 18:20:21.908 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 467.2974ms
2024-06-24 18:20:21.909 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 18:20:21.910 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notifications_Documents_AIDocumentId". The conflict occurred in database "db5908", table "dbo.Documents", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f9c2d6b9-a5f8-40b0-9577-20f39034b989
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AIDMS.Repositories.NotificationRepository.AddNotificationAsync(Notification notification) in C:\final\AIDMS\AIDMS\Repositories\NotificationRepository.cs:line 28
   at AIDMS.Controllers.RegestrationController.SubmitApplication() in C:\final\AIDMS\AIDMS\Controllers\RegestrationController.cs:line 251
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AIDMS.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\final\AIDMS\AIDMS\Program.cs:line 218
2024-06-24 18:20:21.935 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 500 null application/json 501.2431ms
2024-06-24 18:21:09.537 +03:00 [INF] Application is shutting down...
2024-06-24 18:21:35.747 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 18:21:35.950 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 18:21:35.951 +03:00 [INF] Hosting environment: Development
2024-06-24 18:21:35.951 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 18:21:35.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 18:21:36.233 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 240.4733ms
2024-06-24 18:21:36.775 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 18:21:37.027 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 251.4618ms
2024-06-24 18:21:58.670 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - application/json 16
2024-06-24 18:21:58.682 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-24 18:21:58.685 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:21:58.749 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:21:58.795 +03:00 [INF] Route matched with {action = "ValidateNationalID", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateNationalID(System.String) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:22:00.061 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) - Validation state: "Valid"
2024-06-24 18:22:03.314 +03:00 [INF] Executed DbCommand (154ms) [Parameters=[@__nationalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[NationalId]
FROM [UniversityListNIds] AS [u]
WHERE [u].[NationalId] = @__nationalId_0
2024-06-24 18:22:03.555 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__NatId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[SID] = @__NatId_0
2024-06-24 18:22:03.673 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3601.6198ms.
2024-06-24 18:22:03.691 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 18:22:03.704 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS) in 4899.3212ms
2024-06-24 18:22:03.706 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.ValidateNationalID (AIDMS)'
2024-06-24 18:22:03.732 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/validate-national-id - 200 null text/plain; charset=utf-8 5061.5253ms
2024-06-24 18:22:25.840 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/register - application/json 249
2024-06-24 18:22:25.844 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:22:25.847 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:22:25.872 +03:00 [INF] Route matched with {action = "Register", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(StudentRegisterationDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:22:25.915 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.Register (AIDMS) - Validation state: "Valid"
2024-06-24 18:22:26.071 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-24 18:22:26.165 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:22:26.548 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (Size = 14), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = Binary), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([Age], [DepartmentId], [GPA], [IsMale], [Level], [PhoneNumber], [SID], [TotalPassedHours], [dateOfBirth], [firstName], [lastName], [militaryEducation], [regestrationStatus], [studentPicture], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-24 18:22:26.843 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:22:27.055 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [EmpId], [LockoutEnabled], [LockoutEnd], [NationalId], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StdId], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-06-24 18:22:27.164 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:22:27.327 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-24 18:22:27.408 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-24 18:22:27.509 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[EmpId], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalId], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StdId], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-24 18:22:27.748 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [EmpId] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NationalId] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StdId] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-06-24 18:22:28.010 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-24 18:22:28.129 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-24 18:22:28.214 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-06-24 18:22:28.310 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-06-24 18:22:28.339 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-06-24 18:22:28.340 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.Register (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2424.1591ms.
2024-06-24 18:22:28.341 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:22:28.354 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.Register (AIDMS) in 2481.2424ms
2024-06-24 18:22:28.354 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.Register (AIDMS)'
2024-06-24 18:22:28.355 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/register - 200 null application/json; charset=utf-8 2515.1989ms
2024-06-24 18:22:50.557 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryeyjEkztIncNouGq8 103516
2024-06-24 18:22:50.559 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:22:50.562 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:22:50.574 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:22:50.677 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:22:51.036 +03:00 [INF] Executed DbCommand (262ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:22:53.982 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3304.8071ms.
2024-06-24 18:22:53.982 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-24 18:22:53.985 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 3409.9857ms
2024-06-24 18:22:53.985 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:22:53.988 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 400 null text/plain; charset=utf-8 3430.3372ms
2024-06-24 18:23:02.953 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryGZexDxxXC0luWJOa 61663
2024-06-24 18:23:02.953 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:23:02.953 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:23:02.954 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:23:02.956 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:23:03.155 +03:00 [INF] Executed DbCommand (197ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:23:04.541 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1585.2405ms.
2024-06-24 18:23:04.542 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:23:04.544 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 1590.5638ms
2024-06-24 18:23:04.544 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:23:04.545 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 1591.7113ms
2024-06-24 18:23:12.541 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryA1bcQxHEub1YLZPC 71076
2024-06-24 18:23:12.541 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:23:12.541 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:23:12.542 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:23:12.545 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:23:12.625 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:23:14.972 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2427.3005ms.
2024-06-24 18:23:14.973 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:23:14.973 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2431.3461ms
2024-06-24 18:23:14.973 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:23:14.974 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2432.781ms
2024-06-24 18:23:24.034 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - multipart/form-data; boundary=----WebKitFormBoundarybPZIBoobUGzUEdrA 132929
2024-06-24 18:23:24.034 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:23:24.035 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:23:24.035 +03:00 [INF] Route matched with {action = "UploadDocument", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(AIDMS.DTOs.UploadDocumentDto) on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:23:24.039 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) - Validation state: "Valid"
2024-06-24 18:23:24.146 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:23:26.669 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2629.8354ms.
2024-06-24 18:23:26.670 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-24 18:23:26.670 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS) in 2635.4035ms
2024-06-24 18:23:26.670 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.UploadDocument (AIDMS)'
2024-06-24 18:23:26.672 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/upload-document - 200 null application/json; charset=utf-8 2637.2118ms
2024-06-24 18:23:38.336 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - null 0
2024-06-24 18:23:38.336 +03:00 [INF] CORS policy execution successful.
2024-06-24 18:23:38.337 +03:00 [INF] Executing endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 18:23:38.344 +03:00 [INF] Route matched with {action = "SubmitApplication", controller = "Regestration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitApplication() on controller AIDMS.Controllers.RegestrationController (AIDMS).
2024-06-24 18:23:38.346 +03:00 [INF] Executing action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) - Validation state: "Valid"
2024-06-24 18:23:38.429 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName]
FROM [Students] AS [s]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:23:38.574 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Age], [s].[DepartmentId], [s].[GPA], [s].[IsMale], [s].[Level], [s].[PhoneNumber], [s].[SID], [s].[TotalPassedHours], [s].[dateOfBirth], [s].[firstName], [s].[lastName], [s].[militaryEducation], [s].[regestrationStatus], [s].[studentPicture], [s].[userName], [d].[Id], [d].[Manager], [d].[Name]
FROM [Students] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
WHERE [s].[Id] = @__studentId_0
2024-06-24 18:23:38.599 +03:00 [INF] Executed action method AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 253.6251ms.
2024-06-24 18:23:38.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-24 18:23:38.600 +03:00 [INF] Executed action AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS) in 255.5118ms
2024-06-24 18:23:38.600 +03:00 [INF] Executed endpoint 'AIDMS.Controllers.RegestrationController.SubmitApplication (AIDMS)'
2024-06-24 18:23:38.600 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:2225/api/Regestration/submit-application - 200 null text/plain; charset=utf-8 264.368ms
2024-06-24 18:41:08.958 +03:00 [INF] Application is shutting down...
2024-06-24 20:08:30.490 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 20:08:31.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 20:08:31.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 20:08:31.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 20:08:31.157 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 499 13746 application/javascript; charset=utf-8 23.4192ms
2024-06-24 20:08:31.191 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 20:08:31.192 +03:00 [INF] Hosting environment: Development
2024-06-24 20:08:31.192 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 20:08:32.481 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1350.1827ms
2024-06-24 20:08:32.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 1459.156ms
2024-06-24 20:08:32.654 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 20:08:32.657 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 20:08:32.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 4.008ms
2024-06-24 20:08:32.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.9642ms
2024-06-24 20:08:33.054 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 20:08:33.319 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 265.7792ms
2024-06-24 20:17:41.089 +03:00 [INF] User profile is available. Using 'C:\Users\AIA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-24 20:17:41.524 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/index.html - null null
2024-06-24 20:17:41.524 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 20:17:41.524 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 20:17:41.544 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 499 13746 application/javascript; charset=utf-8 21.7936ms
2024-06-24 20:17:41.595 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-24 20:17:41.597 +03:00 [INF] Hosting environment: Development
2024-06-24 20:17:41.597 +03:00 [INF] Content root path: C:\final\AIDMS\AIDMS
2024-06-24 20:17:41.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 171.1028ms
2024-06-24 20:17:41.868 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/index.html - 200 null text/html;charset=utf-8 349.5581ms
2024-06-24 20:17:41.905 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - null null
2024-06-24 20:17:41.907 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 2.1614ms
2024-06-24 20:17:41.919 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/_vs/browserLink - null null
2024-06-24 20:17:41.936 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.7157ms
2024-06-24 20:17:42.078 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - null null
2024-06-24 20:17:42.254 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:2225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 175.598ms
